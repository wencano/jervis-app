webpackJsonp([1],{0:function(e,t,a){e.exports=a(332)},6:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e){e=0==e.indexOf("/")?e.substring(1):e,C.default.dispatch((0,N.push)(Config.root+e))}function s(){C.default.dispatch((0,N.goBack)())}function o(e,t,a){fetch(Config.api+(e||""),t||{}).then(function(e){return e.text()}).then(function(e){var t=JSON.parse(e);a(t,e)}).catch(function(e){return console.log(e)})}function i(e,t,a,n){e=0==e.indexOf("/")?e.substring(1):e;var l=Config.api+(e||"");jQuery.post(l,t||{},function(e){var t=null;try{t=JSON.parse(e)}catch(t){console.log("API Error: ",l,e)}a&&a(t,e)}).error(n||function(e,t){O.setLoading(!1),alert("ERROR: \nCannot connect to server. Please try again."),console.log("Error occured ",t,e.getAllResponseHeaders()),a&&a(null,e)})}function c(e,t){fetch(Config.api+(e||"")).then(function(e){return e.text()}).then(function(e){var a=JSON.parse(e);t(a,e)}).catch(function(e){return console.log(e)})}function u(e){var t=C.default.getState().appdata.user.timezone||"America/New_York";return w.default.tz(e,"UTC").clone().tz(t)}function d(e){return w.default.tz(e,"UTC").clone().tz("America/New_York")}function f(e){return 0==e?y.default.createElement("span",{className:"label label-default"},"DRAFT"):1==e?y.default.createElement("span",{className:"label label-warning"},"NEW"):2==e?y.default.createElement("span",{className:"label label-success"},"ACCEPTED"):3==e?y.default.createElement("span",{className:"label label-info"},"DISPATCHED"):4==e?y.default.createElement("span",{className:"label label-default"},"COMPLETED"):e==-1?y.default.createElement("span",{className:"label label-danger"},"CANCELLED"):e==-2?y.default.createElement("span",{className:"label label-danger"},"TRASHED"):null}function m(e){var t=["draft","new","accepted","dispatched","completed"];return e>=0?t[parseInt(e)]:e==-1?"cancelled":e==-2?"trashed":void 0}function p(e){var t=["default","warning","success","info","default"];return e>=0?t[e]:e==-1?"danger":"default"}function h(){}function b(e){e&&(e.preventDefault(),e.stopPropagation())}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=[];return e&&e.length&&l.push(e),t&&t.length&&l.push(t),n&&n.length&&l.push(n),a&&a.length&&l.push(a),l.join(", ")}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return""==e.trim()?"":E(e,t,a,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.push=r,t.goBack=s,t.api=o,t.post=i,t.get=c,t.tz=u,t.tz_ny=d,t.projectStatusToLabel=f,t.projectStatusToText=m,t.projectStatusToColor=p,t.debug=h,t.preventDefault=b,t.formatAddress=E,t.formatAddressWithStreet=v;var g=a(2),y=l(g),N=a(65),_=a(59),w=l(_),S=a(19),C=l(S),P=a(7),O=n(P);a(360)},7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.signup=t.signupParams=t.setpass=t.verify=t.reset=t.logout=t.login=t.checkSession=t.setLayout=t.allowed=t.sessionKey=t.userType=t.userId=t.is=t.userLoaded=t.setModal=t.isLoading=t.setProperty=t.setPage=t.setLoading=t.setConnected=t.getStore=void 0;var r=a(6),s=l(r),o=a(19),i=n(o),c=a(18),u=l(c),d=(t.getStore=function(e){return e?i.default.getState()[e]:i.default.getState()},t.setConnected=function(e){return(0,o.dispatch)(u.setConnected(e))},t.setLoading=function(e){return(0,o.dispatch)(u.setLoading(e))}),f=(t.setPage=function(e){return(0,o.dispatch)(u.setPage(e))},t.setProperty=function(e){return(0,o.dispatch)(u.setProperty(e))},t.isLoading=function(){return i.default.getState().appdata.loading},t.setModal=function(e,t){(0,o.dispatch)(u.setModal({params:t,Child:e}))},t.userLoaded=function(){return i.default.getState().appdata.userLoaded},t.is=function(e){return i.default.getState().appdata.user.type===e},t.userId=function(){return i.default.getState().appdata.user.id},t.userType=function(){return i.default.getState().appdata.user.type},t.sessionKey=function(){return i.default.getState().appdata.session_key},t.allowed=function(e){var t=i.default.getState().appdata;return!!t.userLoaded&&!!t.user.type&&e.indexOf(t.user.type)>-1},t.setLayout=function(e){"technician"==e?$("body").addClass("layout-top-nav"):$("body").removeClass("layout-top-nav"),"admin"==e&&$("body").hasClass("skin-blue")});t.checkSession=function(e){d(!0),s.post("",{session_key:e},function(e,t){if(d(),e&&e.success&&e.user){var a=!!(e.user&&e.user.id>0);f(e.user.type),(0,o.dispatch)(u.setSession({user:e.user,userLoaded:a}))}else console.log(t)})},t.login=function(e){d(!0),s.post("",{email:e.email,pass:e.pass,task:"login"},function(e,t){d(!1),e&&e.success?(window.localStorage.setItem(Config.name+"_session_key",e.session_key),window.localStorage.setItem(Config.name+"_user_type",e.user.type),f(e.user.type),(0,o.dispatch)(u.setSession({session_key:e.session_key,user:e.user,userLoaded:!0}))):e&&!e.success?alert("ERROR! The account is either not available or does not exist."):console.log(t)})},t.logout=function(e){e&&(e.preventDefault(),e.stopPropagation()),d(!0),s.post("",{task:"logout",session_key:window.localStorage.getItem(Config.name+"_session_key")},function(){setTimeout(function(){window.localStorage.removeItem(Config.name+"_session_key"),window.localStorage.removeItem(Config.name+"_user_type"),(0,o.dispatch)(u.setSession({session_key:null,user:{id:0,name:"Guest"},userLoaded:!1})),d(!1),s.push("")},500)})},t.reset=function(e){return!!e&&(d(!0),void s.post("auth/reset_password/",{email:e},function(e){d(!1),e&&e.success?alert("Reset link has been sent to your email. Please open the reset link to continue with the password reset process."):e&&!e.success?alert("The email address could not be found."):alert("ERROR: Server error. Please try again later."),s.push("")}))},t.verify=function(e){return!!e&&(d(!0),void s.post("auth/verify_reset_password/",{reset_key:e},function(e){d(!1),e&&e.success?(0,o.dispatch)(u.setResetLinkVerified(!0)):(alert("ERROR: The link is invalid or has expired. Please try again."),s.push(""))}))},t.setpass=function(e){return!!e&&(d(!0),void s.post("auth/setpass/",e,function(e){d(!1),e&&e.success?(alert(e.message),s.push("")):alert(e.message)}))},t.signupParams=function(){d(!0),(0,o.dispatch)(u.setSignupParams({categories:[],locations:[]})),s.post("auth/signupParams/",{},function(e){d(!1),e&&e.success&&(0,o.dispatch)(u.setSignupParams(e.params))})},t.signup=function(e){var t=[];return e.name_first.trim().length||t.push("No first name."),e.name_last.trim().length||t.push("No last name. "),e.email.trim().length||t.push("No email address."),(!e.pass.trim().length||e.pass.length<5)&&t.push("Password should be 5 characters or more."),e.categories.length||t.push("No capabilities selected."),e.locations.length||t.push("No location selected."),t.length?(alert("ERROR! Please fix the following issues: \n- "+t.join("\n- ")),!1):(d(!0),void s.post("users/signup/",{data:e},function(e){d(!1),e&&e.success?s.push("signup/success/"):alert(e.message)}))}},18:function(e,t){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:return t.payload;case o:var a=null==t.payload?!e.loading:t.payload;return n({},e,{loading:a});case i:return n({},e,{connected:t.payload});case c:return n({},e,t.payload);case u:return n({},e,{user:t.payload});case d:return n({},e,{page:t.payload});case f:return n({},e,{property:t.payload});case m:return n({},e,{params:t.payload});case p:return n({},e,{UIModal:t.payload});case h:return n({},e,{reset_link_verified:t.payload});case b:return n({},e,{signupParams:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=a;var l={root:Config.root,api:Config.api,connected:!0,session_key:window.localStorage.getItem(Config.name+"_session_key"),reset_link_verified:!1,last_update:null,user:{id:0,name:"Guest",type:"technician"},userLoaded:!1,page:"",loading:!0,property:null,params:{},UIModal:null,signupParams:null},r=function(e){return"app/"+e},s=t._SET=r("set"),o=t._LOADING=r("loading"),i=t._CONNECTED=r("connected"),c=t._SESSION=r("session"),u=t._USER=r("user"),d=t._PAGE=r("page"),f=t._PROPERTY=r("property"),m=t._PARAMS=r("params"),p=t._MODAL=r("modal"),h=t.RESET_LINK_VERIFIED=r("reset_link_verified"),b=t.SIGNUP_PARAMS=r("signup_params");t.set=function(e){return{type:s,payload:e}},t.setLoading=function(e){return{type:o,payload:e}},t.setConnected=function(e){return{type:i,payload:e}},t.setSession=function(e){return{type:c,payload:e}},t.setUser=function(e){return{type:u,payload:e}},t.setPage=function(e){return{type:d,payload:e}},t.setProperty=function(e){return{type:f,payload:e}},t.setParams=function(e){return{type:m,payload:e}},t.setModal=function(e){return{type:p,payload:e}},t.setResetLinkVerified=function(e){return{type:h,payload:e}},t.setSignupParams=function(e){return{type:b,payload:e}}},19:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatch=void 0;var l=a(101),r=a(297),s=n(r),o=a(4),i=a(65),c=a(18),u=n(c),d=a(106),f=n(d),m=a(33),p=n(m),h=a(111),b=n(h),E=a(109),v=n(E),g=a(108),y=n(g),N=a(104),_=n(N),w=a(46),S=n(w),C=a(44),P=n(C),O=(0,l.combineReducers)({appdata:u.default,dashboard:f.default,users:p.default,settings:b.default,projects:S.default,issues:P.default,logs:y.default,comments:_.default,notifications:v.default,routing:i.routerReducer}),x={},T=(0,i.routerMiddleware)(o.browserHistory),k=(0,l.applyMiddleware)(s.default,T),A=(0,l.createStore)(O,x,k);t.default=A,t.dispatch=function(e){return A.dispatch(e)}},26:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),c=n(i),u=a(13),d=(n(u),a(4),a(5)),f=n(d),m=a(1),p=(n(m),function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.pageChange=a.pageChange.bind(a),a.pageTo=a.pageTo.bind(a),a}return s(t,e),o(t,[{key:"pageChange",value:function(e){var t=this.props,a=t.component,n=t.page,l=e.target,r=l.name,s=l.value;n[r]=s,"current"!=r&&(n.current=0),t.setPage(n,a),t.getList(a)}},{key:"pageTo",value:function(e){var t=this.props,a=t.component,n=t.page,l=f.default.cloneDeep(n);"next"==e&&n.current<n.pages-1?n.current++:"prev"==e&&n.current>0?n.current--:"numeric"==typeof e&&(n.current=e),JSON.stringify(l)!=JSON.stringify(n)&&(t.setPage(n,a),t.getList(a))}},{key:"render",value:function(){var e=this,t=this.props;return c.default.createElement("div",{className:t.className||"",style:t.style||{padding:"3px"}},c.default.createElement("div",{className:"pull-left",style:{lineHeight:"18px",padding:"5px 10px",borderRight:"1px solid #ccc"}},c.default.createElement("select",{value:t.page.size,onChange:this.pageChange,name:"size"},c.default.createElement("option",{value:"0"},"All"),c.default.createElement("option",{value:"1"},"1"),c.default.createElement("option",{value:"2"},"2"),c.default.createElement("option",{value:"5"},"5"),c.default.createElement("option",{value:"10"},"10"),c.default.createElement("option",{value:"25"},"25"),c.default.createElement("option",{value:"50"},"50"),c.default.createElement("option",{value:"100"},"100"))),c.default.createElement("div",{className:"pull-left",style:{lineHeight:"18px",padding:"5px 10px"}},c.default.createElement("span",null,t.page.pages>1?c.default.createElement("select",{value:t.page.current,onChange:this.pageChange,name:"current"},f.default.range(0,t.page.pages).map(function(e){return c.default.createElement("option",{value:e,key:e},e*t.page.size+1,"-",e==t.page.pages-1?t.page.total:(e+1)*t.page.size)})):c.default.createElement("span",null,c.default.createElement("b",null,0==t.page.total?0:"1-"+t.page.total))," of ",c.default.createElement("b",null,t.page.total.accounting().replace(".00","")))),c.default.createElement("ul",{className:"pagination pagination-flat pagination-sm no-margin pull-left",style:{}},c.default.createElement("li",{className:0==t.page.current||0==t.page.size?"disabled text-gray":"",onClick:function(t){return e.pageTo("prev")}},c.default.createElement("a",{href:"javascript:0;"},c.default.createElement("i",{className:"fa fa-chevron-left"}))),c.default.createElement("li",{className:t.page.current>=t.page.pages-1||0==t.page.size?"disabled text-gray":"",onClick:function(t){return e.pageTo("next")}},c.default.createElement("a",{href:"javascript:0;"},c.default.createElement("i",{className:"fa fa-chevron-right"})))))}},{key:"componentWillUpdate",value:function(e){return JSON.stringify(this.props)!==JSON.stringify(e)}}]),t}(c.default.Component));t.default=p},27:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.clearUser=t.clear=t.close=t.rateIncrease=t.remove=t.approve=t.updateUser=t.upsertUser=t.getUserDetails=t.getList=void 0;var r=a(7),s=l(r),o=a(6),i=l(o),c=a(19),u=n(c),d=a(18),f=l(d),m=a(33),p=l(m),h=a(5),b=(n(h),function(){return u.default.getState()}),E=(t.getList=function(e,t,a,n,l,r){u.default.getState(),e=e||b().users.filters,a=a||b().users.sort,n=n||b().users.page,t&&s.setLoading(!0),i.post("users/",{session_key:s.sessionKey(),filters:e,sort:a,page:n},function(e){e&&e.success&&((0,c.dispatch)(p.setUsers(e.users,l)),(0,c.dispatch)(p.setFilterParams(e.filterParams)),r?r(e):(0,c.dispatch)(p.setPage(e.pageParams))),t&&s.setLoading(!1)})},t.getUserDetails=function(e){var t=u.default.getState();s.setLoading(!0),i.post("users/single/",{session_key:t.appdata.session_key,id:e},function(t,a){t&&t.success&&t.user&&"new"!=e&&(0,c.dispatch)(p.setUser(t.user)),t&&(0,c.dispatch)(p.setFilterParams(t.filterParams)),s.setLoading(!1)})}),v=(t.upsertUser=function(e){var t=u.default.getState();return!s.isLoading()&&(s.setLoading(!0),void i.post("users/upsert/",{session_key:t.appdata.session_key,data:e},function(e,t){e&&e.success&&e.user?i.push("users/"+e.user.id+"/"):e&&!e.success&&alert("ERROR: "+e.message),s.setLoading(!1)}))},t.updateUser=function(e,t){var a=u.default.getState();return!s.isLoading()&&(s.setLoading(!0),void i.post("users/update/",{session_key:a.appdata.session_key,task:e,data:t},function(t){t&&t.success&&((0,c.dispatch)(f.setUser(t.user)),alert("SUCCESS: User "+e+" updated.")),s.setLoading(!1)}))},t.approve=function(e,t){return!(!e||!e.id)&&(s.setLoading(!0),void i.post("users/approve/",{session_key:s.sessionKey(),user_id:e.id,approve:t},function(e){s.setLoading(!1),e.success&&(alert("User successfully updated."),i.push("users/"))}))},t.remove=function(e){return!!e&&!s.isLoading()&&void(confirm("Are you sure you want to delete the current item?")&&(s.setLoading(!0),i.post("users/remove/",{session_key:s.sessionKey(),id:e},function(e){e.success?(v(),i.push("users/")):alert("ERROR: Unable to delete the user because it has associated data.")})))},t.rateIncrease=function(e){return!!e&&(s.setLoading(!0),void i.post("technicians/rate_increase/",{session_key:s.sessionKey(),user_id:e},function(t){s.setLoading(!1),t&&t.success?(E(e),alert(t.message||"SUCCESS! Technician's rate has been updated.")):alert(t.message||"ERROR! Unable to process request. Please try again later.")}))},t.close=function(e,t){(e&&confirm("There are unsaved changes. Are you sure you want to close this form?")||!e)&&(v(),i.push("users/"+(t&&"new"!=t.id?t.id+"/":"")))},t.clear=function(){(0,c.dispatch)(p.setUser(null))});t.clearUser=function(){(0,c.dispatch)(p.setUser(null))}},28:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),c=n(i),u=a(4),d=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"content-wrapper"},c.default.createElement("section",{className:"content"},c.default.createElement("div",{className:"error-page"},c.default.createElement("h2",{className:"headline text-yellow"}," 404"),c.default.createElement("div",{className:"error-content"},c.default.createElement("h3",null,c.default.createElement("i",{className:"fa fa-warning text-yellow"})," Oops! Page not found."),c.default.createElement("p",null,"We could not find the page you were looking for. Meanwhile, you may ",c.default.createElement(u.Link,{to:Config.root},"return to home page"),".")))))}}]),t}(c.default.Component);t.default=d},33:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.default.cloneDeep(e);switch(t.type){case f:return r({},e,{users:t.payload});case m:return r({},e,{editId:t.payload});case p:return t.payload;case b:return r({},e,{user:t.payload});case h:return"append"==t.mode?a.users=a.users.concat(t.payload):a.users=t.payload,r({},e,{users:a.users});case E:return e.slice(1);case v:return[];case g:return t.component?a[t.component].filters=t.payload:a.filters=t.payload,a;case y:return r({},e,{filterParams:t.payload});case N:return t.component?a[t.component].sort=t.payload:a.sort=t.payload,a;case _:return t.component?a[t.component].page=t.payload:a.page=t.payload,a;case w:return r({},e,{page:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setPage=t.setPageParams=t.setSort=t.setFilterParams=t.setFilters=t.clear=t.del=t.setUsers=t.setUser=t.set=t.edit=t.add=t.SETPAGEPARAMS=t.SETPAGE=t.SETSORT=t.SETFILTERPARAMS=t.SETFILTERS=t._CLEAR=t._REMOVE=t._SETUSER=t._SETUSERS=t._SET=t._EDIT=t._ADD=t.selectNext=t.selectAll=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var s=a(1),o=n(s),i=a(5),c=n(i),u={userDefault:{id:"new",name:"",name_first:"",name_last:"",email:"",pass:"",photo:"",timezone:"America/New_York",date_created:(0,o.default)().format("YYYY-MM-DD"),date_modified:(0,o.default)().format("YYYY-MM-DD"),notes:"",type:"technician",hourly_rate:"0.00"},users:[],user:null,filterParams:{locations:[]},q:"",filtersDefault:{name:"",email:"",type:"technician",status:""},filters:{name:"",email:"",type:"technician"},sort:{by:"name",dir:"asc"},page:{pages:0,total:0,current:0,size:50},projects:{filters:{id:"",title:"",date_created:"",date_schedule:""},sort:{by:"date_created",dir:"desc"},page:{pages:0,total:0,current:0,size:50}},locations:{filters:{city:"",with_projects:""},sort:{by:"date_created",dir:"desc"},page:{pages:0,total:0,current:0,size:50}}},d=function(e){return"app/users/"+e},f=(t.selectAll=function(e){return e.users},t.selectNext=function(e){return e.users[0]},t._ADD=d("add")),m=t._EDIT=d("edit"),p=t._SET=d("set"),h=t._SETUSERS=d("setusers"),b=t._SETUSER=d("setuser"),E=t._REMOVE=d("remove"),v=t._CLEAR=d("clear"),g=t.SETFILTERS=d("filters"),y=t.SETFILTERPARAMS=d("filterparams"),N=t.SETSORT=d("sort"),_=t.SETPAGE=d("page"),w=t.SETPAGEPARAMS=d("pageParams");t.add=function(e){return{payload:e,type:f}},t.edit=function(e){return{payload:e,type:m}},t.set=function(e){return{payload:e,type:p}},t.setUser=function(e){return{payload:e,type:b}},t.setUsers=function(e,t){return{type:h,payload:e,mode:t}},t.del=function(){return{type:E}},t.clear=function(){return{type:v}},t.setFilters=function(e,t){return{type:g,payload:e,component:t}},t.setFilterParams=function(e){return{payload:e,type:y}},t.setSort=function(e,t){return{type:N,payload:e,component:t}},t.setPageParams=function(e){return{payload:e,type:w}},t.setPage=function(e,t){return{type:_,payload:e,component:t}}},43:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.close=t.remove=t.upsert=t.getSingle=t.getList=t.setFilters=void 0;var r=a(7),s=l(r),o=a(6),i=l(o),c=a(19),u=n(c),d=a(18),f=(l(d),a(44)),m=l(f),p=a(33),h=(l(p),function(){return u.default.getState()}),b=(t.setFilters=function(e){return(0,c.dispatch)(m.setFilters(e))},t.getList=function(e,t,a,n,l,r){e=e||h().issues.filters,a=a||h().issues.sort,n=n||h().issues.page,t&&s.setLoading(!0),i.post("issues/",{session_key:s.sessionKey(),filters:e,sort:a,page:n},function(e){e&&e.success&&(console.log(e.issues),(0,c.dispatch)(m.setIssues(e.issues,l)),r?r(e):(0,c.dispatch)(m.setPage(e.pageParams))),e&&e.filterParams&&(0,c.dispatch)(m.setFilterParams(e.filterParams)),t&&s.setLoading(!1)})},t.getSingle=function(e,t){t&&s.setLoading(!0),i.post("issues/single/",{session_key:s.sessionKey(),id:e},function(a,n){console.log(a),a&&a.success&&a.issue&&"new"!=e&&(0,c.dispatch)(m.setIssue(a.issue)),a&&a.filterParams&&(0,c.dispatch)(m.setFilterParams(a.filterParams)),t&&s.setLoading(!1)})},t.upsert=function(e,t,a){return!s.isLoading()&&(e?(e.id=t.id,s.setLoading(!0),void i.post("issues/upsert/",{session_key:s.sessionKey(),issue:e},function(e){console.log(e),e&&e.success&&e.issue?i.push("issues/"+(t&&"new"!=t.id?t.id+"/":"")):alert("ERROR: Unable to save. Please try again later."),s.setLoading(!1)})):(alert("WARNING! No changes were observed."),i.push("issues/"+(t&&"new"!=t.id?t.id+"/":"")),!1))},t.remove=function(e,t){return!s.isLoading()&&!!e&&void(confirm("Are you sure you want to delete the current item?")&&(s.setLoading(!0),i.post("issues/remove/",{session_key:s.sessionKey(),id:e},function(e){s.setLoading(!1),e?(i.push("issues/"),b()):alert("ERROR: Unable to delete.")})))},t.close=function(e,t){return!s.isLoading()&&void((e&&confirm("There are unsaved changes. Are you sure you want to close this form?")||!e)&&(b(),i.push("issues/"+(t&&"new"!=t.id?t.id+"/":""))))},t.clear=function(){(0,c.dispatch)(m.setIssue(null))})},44:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.default.cloneDeep(e);switch(t.type){case d:return t.payload;case p:return t.component?a[t.component].filterParams=t.payload:a.filterParams=t.payload,a;case h:return t.component?a[t.component].filters=t.payload:a.filters=t.payload,a;case b:return t.component?a[t.component].sort=t.payload:a.sort=t.payload,a;case E:return t.component?a[t.component].page=t.payload:a.page=t.payload,a;case f:return"append"==t.mode?a.issues=a.issues.concat(t.payload):a.issues=t.payload,r({},e,{issues:a.issues});case m:return r({},e,{issue:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setPage=t.setPageParams=t.setSort=t.setFilters=t.setFilterParams=t.setIssue=t.setIssues=t.set=t.SETPAGE=t.SETSORT=t.SETFILTERS=t.SETFILTERPARAMS=t.SETISSUE=t.SETISSUES=t.SET=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var s=a(1),o=(n(s),a(5)),i=n(o),c={issueDefault:{id:"new",customer_id:0,customer_name:"",title:"",short_code:"",description:"",edit:!0},issues:[],issue:null,q:"",filterParams:{},filtersDefault:{id:"",project_id:4},filters:{},sort:{by:"id",dir:"desc"},page:{pages:0,total:0,current:0,size:50}},u=function(e){return"app/issues/"+e},d=t.SET=u("set"),f=t.SETISSUES=u("setissues"),m=t.SETISSUE=u("setissue"),p=t.SETFILTERPARAMS=u("setFilterParams"),h=t.SETFILTERS=u("filters"),b=t.SETSORT=u("sort"),E=t.SETPAGE=u("page");t.set=function(e){return{payload:e,type:d}},t.setIssues=function(e,t){return{type:f,payload:e,mode:t}},t.setIssue=function(e){return{payload:e,type:m}},t.setFilterParams=function(e){return{payload:e,type:p}},t.setFilters=function(e){return{payload:e,type:h}},t.setSort=function(e,t){return{type:b,payload:e,component:t}},t.setPageParams=function(e){return{payload:e,type:SETPAGEPARAMS}},t.setPage=function(e,t){return{type:E,payload:e,component:t}}},45:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.readAll=t.read=t.getUnread=t.getList=void 0;var r=a(1),s=l(r),o=a(5),i=l(o),c=a(7),u=n(c),d=a(6),f=n(d),m=a(19),p=l(m),h=a(18),b=(n(h),a(109)),E=n(b);t.getList=function(e,t){e=e||p.default.getState().notifications.filters,t=t||p.default.getState().notifications.limit,u.setLoading(!0),f.post("notifications/",{session_key:p.default.getState().appdata.session_key,filters:e,limit:t},function(e){e&&e.success&&(0,m.dispatch)(E.set(e.notifications)),u.setLoading(!1)},function(e,t){return!1})},t.getUnread=function(e){f.post("notifications/unread/",{session_key:p.default.getState().appdata.session_key},function(e){e&&e.success&&(0,m.dispatch)(E.setUnread(e.notifications))},function(e,t){return!1})},t.read=function(e,t){if(!e)return!1;var a=p.default.getState(),n=i.default.map(a.notifications.notifications,function(t,a){return t.id==e&&(t.date_read=(0,s.default)().format("YYYY-MM-DD HH:MM:SS")),t}),l=i.default.map(a.notifications.unread,function(t,a){return t.id==e&&(t.date_read=(0,s.default)().format("YYYY-MM-DD HH:MM:SS")),t});(0,m.dispatch)(E.setRead({notifications:n,unread:l})),f.post("notifications/read/",{session_key:u.sessionKey(),id:e})},t.readAll=function(){var e=p.default.getState(),t=i.default.map(e.notifications.notifications,function(e,t){return e.date_read=(0,s.default)().format("YYYY-MM-DD HH:MM:SS"),e}),a=i.default.map(e.notifications.unread,function(e,t){return e.date_read=(0,s.default)().format("YYYY-MM-DD HH:MM:SS"),e});(0,m.dispatch)(E.setRead({notifications:t,unread:a})),f.post("notifications/readall/",{session_key:u.sessionKey()})}},46:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.default.cloneDeep(e);switch(t.type){case d:return t.payload;case p:return t.component?a[t.component].filterParams=t.payload:a.filterParams=t.payload,a;case h:return t.component?a[t.component].filters=t.payload:a.filters=t.payload,a;case b:return t.component?a[t.component].sort=t.payload:a.sort=t.payload,a;case E:return t.component?a[t.component].page=t.payload:a.page=t.payload,a;case f:return"append"==t.mode?a.projects=a.projects.concat(t.payload):a.projects=t.payload,r({},e,{projects:a.projects});case m:return r({},e,{project:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setPage=t.setPageParams=t.setSort=t.setFilters=t.setFilterParams=t.setProject=t.setProjects=t.set=t.SETPAGE=t.SETSORT=t.SETFILTERS=t.SETFILTERPARAMS=t.SETPROJECT=t.SETPROJECTS=t.SET=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var s=a(1),o=(n(s),a(5)),i=n(o),c={projectDefault:{id:"new",customer_id:0,customer_name:"",title:"",short_code:"",description:"",edit:!0},projects:[],project:null,q:"",filterParams:{},filtersDefault:{id:""},filters:{},sort:{by:"id",dir:"desc"},page:{pages:0,total:0,current:0,size:50}},u=function(e){return"app/projects/"+e},d=t.SET=u("set"),f=t.SETPROJECTS=u("setprojects"),m=t.SETPROJECT=u("setproject"),p=t.SETFILTERPARAMS=u("setFilterParams"),h=t.SETFILTERS=u("filters"),b=t.SETSORT=u("sort"),E=t.SETPAGE=u("page");t.set=function(e){return{payload:e,type:d}},t.setProjects=function(e,t){return{type:f,payload:e,mode:t}},t.setProject=function(e){return{payload:e,type:m}},t.setFilterParams=function(e){return{payload:e,type:p}},t.setFilters=function(e){return{payload:e,type:h}},t.setSort=function(e,t){return{type:b,payload:e,component:t}},t.setPageParams=function(e){return{payload:e,type:SETPAGEPARAMS}},t.setPage=function(e,t){return{type:E,payload:e,component:t}}},54:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=(a(4),a(5)),m=(l(f),a(1)),p=(l(m),a(6)),h=n(p),b=a(7),E=(n(b),a(107)),v=n(E),g=function(e){return{logs:e.logs.logs}},y=function(e){function t(e){return r(this,t),
s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=(this.state,this.props),t="No logs found.";return e.logs&&e.logs.length>0&&(t=e.logs.map(function(e){return"["+h.tz(e.date_created).format()+"] "+e.message}).join("\n")),u.default.createElement("div",null,u.default.createElement("textarea",{className:"",style:{width:"100%",padding:11,fontFamily:"monospace, Consolas, Courier New",fontSize:11},value:t,rows:25,readOnly:!0}))}},{key:"componentWillMount",value:function(){v.get(this.props.filters||{})}}]),t}(u.default.Component),N=(0,d.connect)(g)(y);t.default=N},55:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.close=t.remove=t.upsert=t.getSingle=t.getList=t.setFilters=void 0;var r=a(7),s=l(r),o=a(6),i=l(o),c=a(19),u=n(c),d=a(18),f=(l(d),a(46)),m=l(f),p=a(33),h=(l(p),function(){return u.default.getState()}),b=(t.setFilters=function(e){return(0,c.dispatch)(m.setFilters(e))},t.getList=function(e,t,a,n,l,r){e=e||h().projects.filters,a=a||h().projects.sort,n=n||h().projects.page,t&&s.setLoading(!0),i.post("projects/",{session_key:s.sessionKey(),filters:e,sort:a,page:n},function(e){e&&e.success&&(console.log(e.projects),(0,c.dispatch)(m.setProjects(e.projects,l)),r?r(e):(0,c.dispatch)(m.setPage(e.pageParams))),e&&e.filterParams&&(0,c.dispatch)(m.setFilterParams(e.filterParams)),t&&s.setLoading(!1)})},t.getSingle=function(e,t){t&&s.setLoading(!0),i.post("projects/single/",{session_key:s.sessionKey(),id:e},function(a,n){console.log(a),a&&a.success&&a.project&&"new"!=e&&(0,c.dispatch)(m.setProject(a.project)),a&&a.filterParams&&(0,c.dispatch)(m.setFilterParams(a.filterParams)),t&&s.setLoading(!1)})},t.upsert=function(e,t,a){return!s.isLoading()&&(e?(e.id=t.id,s.setLoading(!0),void i.post("projects/upsert/",{session_key:s.sessionKey(),project:e},function(e){console.log(e),e&&e.success&&e.project?i.push("projects/"+(t&&"new"!=t.id?t.id+"/":"")):alert("ERROR: Unable to save. Please try again later."),s.setLoading(!1)})):(alert("WARNING! No changes were observed."),i.push("projects/"+(t&&"new"!=t.id?t.id+"/":"")),!1))},t.remove=function(e,t){return!s.isLoading()&&!!e&&void(confirm("Are you sure you want to delete the current item?")&&(s.setLoading(!0),i.post("projects/remove/",{session_key:s.sessionKey(),id:e},function(e){s.setLoading(!1),e?(i.push("projects/"),b()):alert("ERROR: Unable to delete.")})))},t.close=function(e,t){return!s.isLoading()&&void((e&&confirm("There are unsaved changes. Are you sure you want to close this form?")||!e)&&(b(),i.push("projects/"+(t&&"new"!=t.id?t.id+"/":""))))},t.clear=function(){(0,c.dispatch)(m.setProject(null))})},66:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),c=n(i),u=a(13),d=(n(u),a(4),a(5)),f=(n(d),a(1)),m=(n(f),function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={inputId:void 0==e.inputId?"date":e.inputId,inputClass:void 0==e.inputClass?"form-control input-sm":e.inputClass,wrapperClass:void 0==e.wrapperClass?"input-group":e.wrapperClass,value:void 0==e.value?void 0==e.defaultValue?"":e.defaultValue:e.value,placeholder:void 0==e.placeholder?"":e.placeholder,icon:void 0!=e.icon&&e.icon,name:void 0==e.name?"date":e.name,autoclose:e.autoclose||!1,revert:e.revert||!1},a}return s(t,e),o(t,[{key:"render",value:function(){var e=this.state;return c.default.createElement("div",{className:e.wrapperClass,style:{width:"100%",maxWidth:"140px"}},e.icon?c.default.createElement("div",{className:"input-group-addon"},c.default.createElement("i",{className:"fa fa-calendar"})):null,c.default.createElement("input",{type:"text",id:e.inputId,className:e.inputClass,value:e.value,placeholder:e.placeholder,name:e.name,onChange:function(){return 1}}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state;$(function(){$("#"+e.state.inputId).datepicker({autoclose:e.props.autoclose,format:"yyyy-mm-dd",clearBtn:!0}).on("changeDate",function(a){var n=t.value,l=e.props.onChange(a);e.props.revert&&setTimeout(function(){l?(t.value=a.target.value,$("#"+e.state.inputId).datepicker("update",t.value)):(t.value=n,$("#"+e.state.inputId).datepicker("update",t.value))},50)})})}},{key:"componentWillUpdate",value:function(e){var t=this,a=this.state;this.props.value!=e.value&&(a.value=e.value||"",t.setState(a),$("#"+t.state.inputId).datepicker("update",a.value))}},{key:"componentWillUnmount",value:function(){$("#"+this.state.inputId).datepicker("destroy")}}]),t}(c.default.Component));t.default=m},67:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),c=n(i),u=a(13),d=(n(u),a(4),a(5)),f=n(d),m=a(1),p=(n(m),function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.pageTo=a.pageTo.bind(a),a}return s(t,e),o(t,[{key:"pageTo",value:function(e){var t=this.props,a=t.component,n=t.page,l=f.default.cloneDeep(n);"next"==e&&n.current<n.pages-1?n.current++:"prev"==e&&n.current>0?n.current--:"numeric"==typeof e&&(n.current=e),JSON.stringify(l)!=JSON.stringify(n)&&(t.setPage(n,a),t.getList(a,"append"))}},{key:"render",value:function(){var e=this,t=this.props;return t.page.current<t.page.pages-1?c.default.createElement("button",{type:"button",className:t.className||"btn btn-primary btn-md btn-flat ",onClick:function(t){return e.pageTo("next")}},"Load More..."):null}}]),t}(c.default.Component));t.default=p},68:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),r=n(l),s=function(e){var t=e.sort&&e.sort.by==e.column?r.default.createElement("i",{className:"fa fa-long-arrow-"+("asc"==e.sort.dir?"up":"down")}):null;return t};t.default=s},69:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=n(c),d=a(338),f=(n(d),function(e){function t(){l(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={show:!1,screen:"xs"},e}return s(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,a={display:"block"};return this.state.show||(a.display="none"),u.default.createElement("div",{className:"dynamic-filter-row "+this.props.className},u.default.createElement("div",{className:"visible-xs text-blue",onClick:function(){return e.setState(o({},e.state,{show:!e.state.show}))},style:{margin:"0 0 6px 0",cursor:"pointer"}},u.default.createElement("b",null,u.default.createElement("i",{className:"fa fa-filter"})," ",this.state.show?"Hide":"Show"," Filter")),u.default.createElement("div",{className:"dynamic-filter-wrapper ",style:a},t.children))}},{key:"componentDidMount",value:function(){var e=this;$(function(){var t=e.state;t.screen=AppHelpers.getScreen(),t.show="xs"!=t.screen,e.setState(t),t.show||$(".dynamic-filter-row .dynamic-filter-wrapper").slideUp(300),$(window).resize(function(){AppHelpers.waitForFinalEvent(function(){var a=AppHelpers.getScreen();a!=t.screen&&(t.screen=a,t.show="xs"!=t.screen,e.setState(t),t.show?$(".dynamic-filter-row .dynamic-filter-wrapper").slideDown(300):$(".dynamic-filter-row .dynamic-filter-wrapper").slideUp(300))})})})}},{key:"componentDidUpdate",value:function(){}}]),t}(u.default.Component));t.default=f},70:function(e,t){"use strict";e.exports=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}]},103:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=(a(4),a(5)),m=(l(f),a(1)),p=(l(m),a(6)),h=n(p),b=a(7),E=n(b),v=a(310),g=n(v),y=function(e){return{comments:e.comments.comments}},N=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={comment:{message:"",component:e.component,item_id:e.item_id}},a.formChange=a.formChange.bind(a),a.send=a.send.bind(a),a.remove=a.remove.bind(a),a.scrollList=a.scrollList.bind(a),a}return o(t,e),i(t,[{key:"formChange",value:function(e){var t=this.state;t.comment[e.target.name]=e.target.value,this.setState(t)}},{key:"send",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.state;g.upsert(t.comment),t.comment.message="",this.setState(t)}},{key:"remove",value:function(e,t){e&&(e.preventDefault(),e.stopPropagation()),confirm("Are you sure you want to delete this comment?")&&g.remove(t)}},{key:"render",value:function(){var e=this,t=this.state,a=(this.props,this.props.comments);return u.default.createElement("div",{className:"box box-default direct-chat direct-chat-warning"},u.default.createElement("div",{className:"box-header with-border"},u.default.createElement("h3",{className:"box-title"},"Comments"),u.default.createElement("div",{className:"box-tools pull-right"},u.default.createElement("button",{type:"button",className:"btn btn-box-tool",onClick:function(e){return g.getList()}},u.default.createElement("i",{className:"fa fa-refresh"})))),u.default.createElement("div",{className:"box-body"},u.default.createElement("div",{className:"comments-list direct-chat-messages",id:"comments-list"},a&&a.length?a.map(function(t,a){return u.default.createElement("div",{className:"direct-chat-msg",key:a},u.default.createElement("div",{className:"direct-chat-info clearfix"},u.default.createElement("span",{className:"direct-chat-name pull-left"},t.author_name),u.default.createElement("span",{className:"direct-chat-timestamp pull-right"},h.tz(t.date_created).format("MMM D, YYYY, h:mm a")," ",E.is("admin")||t.author_id==E.userId()?u.default.createElement("span",{onClick:function(a){return e.remove(a,t.id)},title:"Delete Comment",style:{cursor:"pointer"}},u.default.createElement("i",{className:"fa fa-trash"})):null)),u.default.createElement("div",{className:"direct-chat-img"},u.default.createElement("div",{style:{textAlign:"center",fontSize:"16px",border:"2px solid #000",fontWeight:"bold",float:"left",width:"40px",height:"40px",lineHeight:"40px",marginBottom:"0",color:"#000",display:"table",overflow:"hidden",borderRadius:"20px"}},u.default.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",lineHeight:"1em",overflow:"hidden"}},t.author_name.initials()))),u.default.createElement("div",{className:"direct-chat-text",dangerouslySetInnerHTML:{__html:t.message}}))}):"No comments found.")),u.default.createElement("div",{className:"box-footer"},u.default.createElement("form",{action:"#",method:"post",onSubmit:function(t){return e.send(t)}},u.default.createElement("div",{className:"input-group"},u.default.createElement("input",{type:"text",value:t.comment.message,onChange:function(t){return e.formChange(t)},name:"message",placeholder:"Type Message ...",className:"form-control"}),u.default.createElement("span",{className:"input-group-btn"},u.default.createElement("button",{type:"button",className:"btn btn-warning btn-flat",onClick:function(t){return e.send(t)}},"Send"))))))}},{key:"componentWillMount",value:function(){g.setFilters({component:this.props.component,item_id:this.props.item_id}),g.getList()}},{key:"scrollList",value:function(){setTimeout(function(){var e=document.getElementById("comments-list");e.scrollTop=e.scrollHeight},50)}},{key:"componentDidMount",value:function(){var e=this;$(function(){$.AdminLTE.layout.fix(),$(".anim").addClass("anim-go"),e.scrollList()})}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(this.props.comments)!=JSON.stringify(e.comments)&&t.scrollList()}}]),t}(u.default.Component),_=(0,d.connect)(y)(N);t.default=_},104:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return s({},e,{filters:t.payload});case d:return s({},e,{comments:t.payload});case f:return s({},e,{comments:[].concat(l(e.comments),[t.payload])});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.push=t.set=t.setFilters=t.PUSH=t.SET=t.SETFILTERS=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=r;var o=a(1),i=(n(o),{comments:[],filters:{component:"comments",item_id:""}}),c=function(e){return"app/comments/"+e},u=t.SETFILTERS=c("setfilter"),d=t.SET=c("set"),f=t.PUSH=c("push");t.setFilters=function(e){return{payload:e,type:u}},t.set=function(e){return{payload:e,type:d}},t.push=function(e){return{payload:e,type:f}}},105:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),c=n(i),u=a(13),d=(n(u),a(4),a(5)),f=n(d),m=a(1),p=(n(m),a(70)),h=(n(p),function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={options:f.default.cloneDeep(e.options),value:e.value,defaultValue:e.defaultValue,selected:{value:"",label:e.defaultLabel||""}},e.value&&""!=e.value?a.state.selected=f.default.find(a.state.options,{value:e.value}):e.defaultValue&&""!=e.defaultValue&&(a.state.selected=f.default.find(a.state.options,{value:e.defaultValue})),a.state.selected||(a.state.selected={value:"",label:e.defaultLabel||""}),a.onChange=a.onChange.bind(a),a}return s(t,e),o(t,[{key:"onChange",value:function(e){var t=this.props,a=this.state;a.options.map(function(t,n){t.value==e&&(a.selected=f.default.cloneDeep(t))});var n={target:{name:t.name,value:e}};this.setState(a),t.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props,a=this.state;return c.default.createElement("div",{className:t.className||"",style:t.style||{}},c.default.createElement("button",{type:"button",className:"btn btn-sm dropdown-toggle btn-"+(t.colorcoded?a.selected.classColor:""),"data-toggle":"dropdown","aria-expanded":"false",style:t.buttonStyle||{}},a.selected.label," ",t.caret?c.default.createElement("span",{className:"fa fa-caret-down"}):null),c.default.createElement("ul",{className:"dropdown-menu"},a.options&&a.options.length?a.options.map(function(t,n){return c.default.createElement("li",{key:n,className:t.value==a.selected.value?"active":""},c.default.createElement("a",{href:"javascript:(0);",onClick:function(){return e.onChange(t.value)}},t.label))}):null))}},{key:"componentWillReceiveProps",value:function(e){var t=this.state;JSON.stringify(this.props)!=JSON.stringify(e)&&(e.value&&""!=e.value&&(t.selected=f.default.find(t.options,{value:e.value})),e.defaultValue&&""!=e.defaultValue&&(t.selected=f.default.find(t.options,{value:e.defaultValue})),t.selected||(t.selected={value:"",label:e.defaultLabel||""}),this.setState(t))}}]),t}(c.default.Component));t.default=h},106:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return r({},e,{dashboard:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.set=t.SET=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var s=a(1),o=(n(s),{dashboard:{projects:{draft:0,new:0,accepted:0,dispatched:0},locations:0,technicians:0}}),i=function(e){return"app/dashboard/"+e},c=t.SET=i("set");t.set=function(e){return{payload:e,type:c}}},107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var r=a(7),s=l(r),o=a(6),i=l(o),c=a(19),u=(n(c),a(18)),d=(l(u),a(108)),f=l(d);t.get=function(e){s.setLoading(!0),i.post("history/",{session_key:s.sessionKey(),filters:e},function(e){e&&e.success&&(0,c.dispatch)(f.set(e.logs)),s.setLoading(!1)})}},108:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return r({},e,{logs:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.set=t.SET=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var s=a(1),o=(n(s),{logs:[]}),i=function(e){return"app/logs/"+e},c=t.SET=i("set");t.set=function(e){return{payload:e,type:c}}},109:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return r({},e,{notifications:t.payload});case d:return r({},e,{unread:t.payload});case f:return r({},e,{notifications:t.payload.notifications,unread:t.payload.unread});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setRead=t.setUnread=t.set=t.READ=t.UNREAD=t.SET=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var s=a(1),o=(n(s),a(5)),i=(n(o),{notifications:[],unread:[],limit:100}),c=function(e){return"app/notifications/"+e},u=t.SET=c("set"),d=t.UNREAD=c("unread"),f=t.READ=c("read");t.set=function(e){return{payload:e,type:u}},t.setUnread=function(e){return{payload:e,type:d}},t.setRead=function(e){return{payload:e,type:f}}},110:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.set=t.setting=t.get=void 0;var r=a(5),s=l(r),o=a(7),i=n(o),c=a(6),u=n(c),d=a(19),f=l(d),m=a(18),p=(n(m),a(111)),h=n(p);t.get=function(){i.setLoading(!0),u.post("settings/",{session_key:f.default.getState().appdata.session_key},function(e){e&&e.success?(0,d.dispatch)(h.set(e.settings)):alert("ERROR: Unable to load settings."),i.setLoading(!1)})},t.setting=function(e,t){t&&i.setLoading(!0),u.post("settings/setting/",{session_key:f.default.getState().appdata.session_key,setting_key:e},function(a){if(a&&a.success){var n=s.default.cloneDeep(f.default.getState().settings.settings);n[e]=$res[e],(0,d.dispatch)(h.set(n))}t&&i.setLoading(!1)})},t.set=function(e,t){i.setLoading(!0),u.post("settings/update/",{session_key:f.default.getState().appdata.session_key,settings:e},function(e){(0,d.dispatch)(h.set(e.settings)),t&&t(e),u.push("settings/"),i.setLoading(!1)})}},111:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return r({},e,{settings:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.set=t._SET=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var s=a(1),o=(n(s),{settings:{}}),i=function(e){return"app/settings/"+e},c=t._SET=i("set");t.set=function(e){return{payload:e,type:c}}},112:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),d=l(u),f=(a(4),a(1)),m=l(f),p=a(6),h=n(p),b=a(7),E=n(b),v=a(66),g=l(v),y=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={days:[{dow:1,name:"Mon"},{dow:2,name:"Tue"},{dow:3,name:"Wed"},{dow:4,name:"Thu"},{dow:5,name:"Fri"},{dow:6,name:"Sat"},{dow:7,name:"Sun"}],tech_sched_default:{id:0,user_id:e.user_id||0,date:"0000-00-00",dow:0,t9_12pm:1,t12_3pm:1,t3_6pm:1,t6_9pm:1},availability:[],leaves:[],leavesOrig:[]},a.toggleTimeslots=a.toggleTimeslots.bind(a),a.getData=a.getData.bind(a),a.addLeave=a.addLeave.bind(a),a.formChange=a.formChange.bind(a),a.changeDate=a.changeDate.bind(a),a.toggleLeaveForm=a.toggleLeaveForm.bind(a),a.saveLeave=a.saveLeave.bind(a),a.removeLeave=a.removeLeave.bind(a),a}return o(t,e),c(t,[{key:"toggleTimeslots",value:function(e,t,a){var n=this,l=this.state,r=null;return"leaves"==e?r=_.find(l[e],{date:t}):"availability"==e&&(r=_.find(l[e],function(e){return parseInt(e.dow)==t})),!("leaves"==e&&!r)&&("availability"!=e||r||(l.availability.push(i({},l.tech_sched_default,{dow:t})),r=_.find(l.availability,function(e){return parseInt(e.dow)==t})),r[a]=0==r[a]?1:0,n.setState(l),void("availability"==e&&(E.setLoading(!0),h.post("technicians/sched_upsert/",{session_key:E.sessionKey(),tech_sched:r},function(e){E.setLoading(!1),e&&e.success&&r.id!=parseInt(e.tech_sched.id)&&(r=e.tech_sched,n.setState(l))}))))}},{key:"getData",value:function(){var e=this,t=this.props,a=this.state;E.setLoading(!0),h.post("technicians/sched/",{session_key:E.sessionKey(),tech_id:t.user_id},function(t){E.setLoading(!1),t&&t.success&&(a.availability=t.availability,a.leaves=_.cloneDeep(t.leaves),a.leavesOrig=_.cloneDeep(a.leaves),e.setState(a))})}},{key:"addLeave",value:function(){for(var e=this,t=this.state,a=_.first(t.leaves)||{},n=(0,m.default)(a.date||(0,m.default)()).format("YYYY-MM-DD");_.find(t.leaves,{date:n});)n=(0,m.default)(n).add(1,"days").format("YYYY-MM-DD");t.leaves.push(i({},t.tech_sched_default,{date:n,t9_12pm:0,t12_3pm:0,t3_6pm:0,t6_9pm:0,edit:!0})),t.leaves=_.sortBy(t.leaves,["date"]),t.leaves=_.reverse(t.leaves),e.setState(t)}},{key:"formChange",value:function(e,t,a){var n=this,l=this.state,r=(this.props,e.target),s=r.name,o=r.value;l.leaves[a][s]=o,n.setState(l)}},{key:"changeDate",value:function(e,t,a){var n=this.state,l=e.target,r=(l.name,l.value),s=(0,m.default)(r).format("YYYY-MM-DD"),o=_.find(n.leaves,{date:s});return o?(alert("Date already exist!"),!1):(n.leaves[a].date=s,this.setState(n),!0)}},{key:"toggleLeaveForm",value:function(e){var t=this.state,a=this.state.leaves,n=a[e];if(n.edit&&!n.id&&confirm("Warning! Closing the form will remove this item. Are you sure you want to continue?"))a.splice(e,1);else{a[e]=i({},n,{edit:!n.edit});var l=_.find(t.leavesOrig,{id:n.id});n.edit&&l&&JSON.stringify(i({},l,{edit:a[e].edit}))!=JSON.stringify(a[e])&&(confirm("Warning! Closing the form will revert the changes. Are you sure you want to continue?")?a[e]=l:a[e]=i({},n))}this.setState(this.state)}},{key:"saveLeave",value:function(e){var t=this,a=this.state,n=this.state.leaves[e];E.setLoading(!0),h.post("technicians/sched_upsert/",{session_key:E.sessionKey(),tech_sched:n,getlist:1},function(n){E.setLoading(!1),n&&n.success&&(t.state.leaves[e]=n.tech_sched,t.setState(t.state),a.availability=n.availability,a.leaves=_.cloneDeep(n.leaves),a.leavesOrig=_.cloneDeep(a.leaves),t.setState(a))})}},{key:"removeLeave",value:function(e){var t=this,a=this.state;if(confirm("Are you sure you want to remove this leave?")){var n=i({},a.leaves[e]);E.setLoading(!0),h.post("technicians/sched_remove/",{session_key:E.sessionKey(),id:n.id},function(n){E.setLoading(!1),n&&n.success&&(a.leaves.splice(e,1),t.setState(a))})}}},{key:"render",value:function(){var e=this,t=this.props,a=this.state;return t.user_id?d.default.createElement("div",{style:{maxWidth:600}},d.default.createElement("h3",null,"Weekly Unavailability Schedule"),d.default.createElement("p",null,"Toggle weekly unavailability schedule. You will be excluded from new project notifications if you are not available to all project dates and timeslot. Conflict projects will still be available in the list view. "),d.default.createElement("table",{
className:"table table-bordered "},d.default.createElement("thead",null,d.default.createElement("tr",{className:"hidden-xs"},d.default.createElement("th",{style:{width:80}},"Day"),d.default.createElement("th",{style:{width:80,textAlign:"center"}},"9-12pm"),d.default.createElement("th",{style:{width:80,textAlign:"center"}},"12-3pm"),d.default.createElement("th",{style:{width:80,textAlign:"center"}},"3-6pm"),d.default.createElement("th",{style:{width:80,textAlign:"center"}},"6-9pm")),d.default.createElement("tr",{className:"visible-xs"},d.default.createElement("th",{style:{width:80}},"Day"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"9-12 pm"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"12-3 pm"),d.default.createElement("th",{style:{width:40,textAlign:"center"}},"3-6 pm"),d.default.createElement("th",{style:{width:40,textAlign:"center"}},"6-9 pm"))),d.default.createElement("tbody",null,a.days.map(function(t,n){var l=_.find(a.availability,function(e){return parseInt(e.dow)==t.dow});return d.default.createElement("tr",{key:n},d.default.createElement("td",null,t.name),d.default.createElement("td",{onClick:function(){return e.toggleTimeslots("availability",t.dow,"t9_12pm")},style:{textAlign:"center",background:l&&!parseInt(l.t9_12pm)?"#f39c12":"none"}}),d.default.createElement("td",{onClick:function(){return e.toggleTimeslots("availability",t.dow,"t12_3pm")},style:{textAlign:"center",background:l&&!parseInt(l.t12_3pm)?"#f39c12":"none"}}),d.default.createElement("td",{onClick:function(){return e.toggleTimeslots("availability",t.dow,"t3_6pm")},style:{textAlign:"center",background:l&&!parseInt(l.t3_6pm)?"#f39c12":"none"}}),d.default.createElement("td",{onClick:function(){return e.toggleTimeslots("availability",t.dow,"t6_9pm")},style:{textAlign:"center",background:l&&!parseInt(l.t6_9pm)?"#f39c12":"none"}}))}))),d.default.createElement("br",null),d.default.createElement("br",null),d.default.createElement("br",null),d.default.createElement("h3",null,"Leave Schedule ",d.default.createElement("button",{className:"btn btn-sm btn-default btn-flat ",onClick:function(t){return e.addLeave()}},d.default.createElement("i",{className:"fa fa-plus"})," Add")," "),d.default.createElement("table",{className:"table table-bordered table-striped"},d.default.createElement("thead",null,d.default.createElement("tr",{className:"hidden-xs"},d.default.createElement("th",{style:{width:100}},"Date"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"9-12 pm"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"12-3 pm"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"3-6 pm"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"6-9 pm"),d.default.createElement("th",{style:{width:"auto"}},"Purpose")),d.default.createElement("tr",{className:"visible-xs"},d.default.createElement("th",{style:{width:100}},"Date"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"9-12 pm"),d.default.createElement("th",{style:{width:50,textAlign:"center"}},"12-3 pm"),d.default.createElement("th",{style:{width:40,textAlign:"center"}},"3-6 pm"),d.default.createElement("th",{style:{width:40,textAlign:"center"}},"6-9 pm"),d.default.createElement("th",{style:{width:"auto"}},"Purpose"))),d.default.createElement("tbody",null,a.leaves&&a.leaves.length?a.leaves.map(function(t,a){return d.default.createElement("tr",{key:a},d.default.createElement("td",null,t.edit?d.default.createElement(g.default,{className:"form-control input-md",inputId:"schedule-item-"+a,value:(0,m.default)(t.date).format("YYYY-MM-DD"),onChange:function(n){return e.changeDate(n,t,a)},name:"date",icon:!1,autoclose:!0,revert:!0}):(0,m.default)(t.date).format("YYYY-MM-DD")),d.default.createElement("td",{onClick:function(){return t.edit?e.toggleTimeslots("leaves",t.date,"t9_12pm"):null},style:{textAlign:"center",background:t&&!parseInt(t.t9_12pm)?"#f39c12":"none"}}),d.default.createElement("td",{onClick:function(){return t.edit?e.toggleTimeslots("leaves",t.date,"t12_3pm"):null},style:{textAlign:"center",background:t&&!parseInt(t.t12_3pm)?"#f39c12":"none"}}),d.default.createElement("td",{onClick:function(){return t.edit?e.toggleTimeslots("leaves",t.date,"t3_6pm"):null},style:{textAlign:"center",background:t&&!parseInt(t.t3_6pm)?"#f39c12":"none"}}),d.default.createElement("td",{onClick:function(){return t.edit?e.toggleTimeslots("leaves",t.date,"t6_9pm"):null},style:{textAlign:"center",background:t&&!parseInt(t.t6_9pm)?"#f39c12":"none"}}),d.default.createElement("td",{style:{position:"relative"}},d.default.createElement("div",{style:{position:"absolute",top:5,right:5}},t.edit?d.default.createElement("div",{className:"btn-group"},d.default.createElement("button",{type:"button",className:"btn btn-flat btn-xs btn-success",onClick:function(t){return e.saveLeave(a)},style:{}},d.default.createElement("i",{className:"fa fa-save"})),d.default.createElement("button",{type:"button",className:"btn btn-flat btn-xs btn-default",onClick:function(t){return e.toggleLeaveForm(a)},style:{}},d.default.createElement("i",{className:"fa fa-close"}))):d.default.createElement("div",{className:"btn-group"},d.default.createElement("button",{type:"button",className:"btn btn-flat btn-xs btn-default",onClick:function(t){return e.toggleLeaveForm(a)},style:{}},d.default.createElement("i",{className:"fa fa-pencil"})),d.default.createElement("button",{type:"button",className:"btn btn-flat btn-xs btn-default dropdown-toggle","data-toggle":"dropdown","aria-expanded":"true",style:{padding:"1px 2px"},onClick:function(e){return h.preventDefault(e)}},d.default.createElement("span",{className:"caret"})),d.default.createElement("ul",{className:"dropdown-menu dropdown-menu-right"},d.default.createElement("li",{className:"separator"}),d.default.createElement("li",null,d.default.createElement("a",{href:"javascript:;",onClick:function(t){return e.removeLeave(a)}},"Delete"))))),t.edit?d.default.createElement("textarea",{rows:1,type:"text",className:"form-control input-sm",value:t.notes,onChange:function(n){return e.formChange(n,t,a)},name:"notes",style:{width:"calc(100% - 40px)"}}):t.notes))}):d.default.createElement("tr",null,d.default.createElement("td",{colSpan:6},"No leaves found.")))),d.default.createElement("br",null),d.default.createElement("br",null),d.default.createElement("br",null)):d.default.createElement("div",{style:{maxWidth:600}},"User not found")}},{key:"componentWillMount",value:function(){this.props.user_id&&this.getData()}},{key:"componentWillReceiveProps",value:function(e){}}]),t}(d.default.Component);t.default=y},113:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),d=l(u),f=a(13),m=l(f),p=a(11),h=a(4),b=a(5),E=l(b),v=a(1),g=(l(v),a(7)),y=n(g),N=a(6),_=(n(N),a(99)),w=l(_),S=function(e){return{appdata:e.appdata,reset_link_verified:e.appdata.reset_link_verified,routing:e.routing,signupParams:e.appdata.signupParams,path:e.routing.locationBeforeTransitions.pathname}},C=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={remember_me:!0,newUserDefault:{name:"",name_first:"",name_last:"",email:"",pass:"",phone:"",categories:[],locations:[]},newUser:null,signupParams:{categories:[],locations:[]}},a.state.newUser=i({},a.state.newUserDefault),a.stopLogin=a.stopLogin.bind(a),a.requestResetPassword=a.requestResetPassword.bind(a),a.setNewPassword=a.setNewPassword.bind(a),a.toggleRemember=a.toggleRemember.bind(a),a.signup=a.signup.bind(a),a.signupFormChange=a.signupFormChange.bind(a),a.signupSelectCategory=a.signupSelectCategory.bind(a),a.signupSelectLocation=a.signupSelectLocation.bind(a),a}return o(t,e),c(t,[{key:"stopLogin",value:function(e){e.preventDefault(),e.stopPropagation();var t={email:m.default.findDOMNode(this.refs.login_email).value.trim(),pass:m.default.findDOMNode(this.refs.login_pass).value.trim()};t.email.length<1||t.pass.length<1?alert("ERROR: Email address and password cannot be empty."):y.login(t)}},{key:"requestResetPassword",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.refs.reset_email.value.trim();""==t?alert("Please enter your email!"):y.reset(t)}},{key:"setNewPassword",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.refs.reset_password.value.trim(),a=this.refs.reset_password_confirm.value.trim(),n=[];return""==t&&n.push("Password must not be empty."),t.length<=5&&n.push("Password must be at least 5 characters long."),t!=a&&n.push("Passwords do not match."),n.length>0?(alert("ERROR: Please fix the following errors found: \n- "+n.join("\n- ")),!1):void y.setpass({reset_key:this.props.params.reset_key,pass:t})}},{key:"toggleRemember",value:function(){this.setState(i({},this.state,{remember_me:!this.state.remember_me}))}},{key:"signup",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),y.signup(this.state.newUser)}},{key:"signupFormChange",value:function(e){var t=this.state;t.newUser[e.target.name]=e.target.value,this.setState(t)}},{key:"signupSelectCategory",value:function(e){var t=this.state,a=e.params.data;t.newUser.categories=t.newUser.categories||[],a.selected?t.newUser.categories.push({uc_id:"new",id:a.id,name:a.name}):t.newUser.categories=E.default.filter(t.newUser.categories,function(e){return e.id!=a.id}),this.setState(t)}},{key:"signupSelectLocation",value:function(e){var t=this.state,a=e.params.data;t.newUser.locations=t.newUser.locations||[],a.selected?t.newUser.locations.push({ul_id:"new",id:a.id,name:a.name}):t.newUser.locations=E.default.filter(t.newUser.locations,function(e){return e.id!=a.id}),this.setState(t)}},{key:"showTip",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,a=this.state;return t.categories?t.categories:a.categories,t.locations?t.locations:a.locations,d.default.createElement("div",{className:"login-box"},d.default.createElement("div",{className:"login-logo"},d.default.createElement(h.Link,{to:Config.root,style:{color:"#efefef"}},d.default.createElement("img",{src:Config.assets+"icons/favicon.png",style:{height:70}})," ",d.default.createElement("b",{style:{color:"#ffffff"}},"Jervis"))),t.path!=Config.root||t.appdata.users&&t.appdata.users.id?null:d.default.createElement("div",{className:"login-box-body"},d.default.createElement("p",{className:"login-box-msg"},"Sign in to start your session"),d.default.createElement("form",{action:"/",method:"post"},d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"text",className:"form-control",placeholder:"Email",ref:"login_email",required:"required"}),d.default.createElement("span",{className:"glyphicon glyphicon-envelope form-control-feedback"})),d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"password",className:"form-control",placeholder:"Password",ref:"login_pass",required:"required"}),d.default.createElement("span",{className:"glyphicon glyphicon-lock form-control-feedback"})),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("div",{className:"checkbox icheck"},d.default.createElement("label",null,d.default.createElement("input",{type:"checkbox",checked:!0})," Remember Me"))),d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat",onClick:this.stopLogin},"Sign In")))),d.default.createElement(h.Link,{to:Config.root+"reset-password/"},"I forgot my password"),d.default.createElement("br",null)),t.path==Config.root+"reset-password/"?d.default.createElement("div",{className:"login-box-body"},d.default.createElement("p",{className:"login-box-msg"},"Please enter your email address"),d.default.createElement("form",{action:"/",method:"post"},d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"text",className:"form-control",placeholder:"Email",ref:"reset_email",required:"required"}),d.default.createElement("span",{className:"glyphicon glyphicon-envelope form-control-feedback"})),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-6"},d.default.createElement(h.Link,{to:Config.root},d.default.createElement("i",{className:"fa fa-long-arrow-left"})," Back")),d.default.createElement("div",{className:"col-xs-6 pull-right"},d.default.createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat",onClick:this.requestResetPassword},"Reset Password"))))):null,t.path.indexOf("verify-reset-password")>-1&&!t.reset_link_verified?d.default.createElement("div",{className:"login-box-body"},d.default.createElement("span",{className:"login-box-msg"},"Verifying password reset request...")):null,t.path.indexOf("verify-reset-password")>-1&&t.reset_link_verified?d.default.createElement("div",{className:"login-box-body"},d.default.createElement("p",{className:"login-box-msg"},"Please enter your new password"),d.default.createElement("form",{action:"/",method:"post"},d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"password",className:"form-control",placeholder:"Password",ref:"reset_password",required:"required"}),d.default.createElement("span",{className:"glyphicon glyphicon-lock form-control-feedback"})),d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",ref:"reset_password_confirm",required:"required"}),d.default.createElement("span",{className:"glyphicon glyphicon-lock form-control-feedback"})),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-12"},d.default.createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat",onClick:this.setNewPassword},"Reset Password"))))):null,t.path==Config.root?d.default.createElement("div",{className:"signup-link-box",style:{display:"block",padding:"10px 10px 0 10px",textAlign:"center",color:"#ffffff"}},d.default.createElement("div",{style:{display:"block",textAlign:"center",color:"#ffffff",margin:"30px"}},d.default.createElement("span",{style:{display:"inline-block",width:"40%",height:"1px",position:"relative",left:-15,top:-5},className:"bg-gray"}),"Or",d.default.createElement("span",{style:{display:"inline-block",width:"40%",height:"1px",position:"relative",left:15,top:-5},className:"bg-gray"})),d.default.createElement("div",{style:{display:"block",textAlign:"center"}},d.default.createElement("a",{href:Config.root+"signup/",className:"btn btn-success btn-flat"},"Create my Technician Account"))):null,t.path==Config.root+"signup/"?d.default.createElement("div",{className:"login-box-body"},d.default.createElement("p",{className:"login-box-msg"},"You are signing up as a ",d.default.createElement("b",null,"Technician"),". "),d.default.createElement("form",{action:"/",method:"post"},d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",value:a.newUser.name_first,onChange:this.signupFormChange,name:"name_first"}),d.default.createElement("span",{className:"glyphicon glyphicon-user form-control-feedback"})),d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",value:a.newUser.name_last,onChange:this.signupFormChange,name:"name_last"}),d.default.createElement("span",{className:"glyphicon glyphicon-user form-control-feedback"})),d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"text",className:"form-control",placeholder:"Email",value:a.newUser.email,onChange:this.signupFormChange,name:"email"}),d.default.createElement("span",{className:"glyphicon glyphicon-envelope form-control-feedback"})),d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"password",className:"form-control",placeholder:"Password",value:a.newUser.pass,onChange:this.signupFormChange,name:"pass"}),d.default.createElement("span",{className:"glyphicon glyphicon-lock form-control-feedback"})),d.default.createElement("div",{className:"form-group has-feedback"},d.default.createElement("input",{type:"text",className:"form-control",placeholder:"Phone Number (e.g. +18555440652)",value:a.newUser.phone,onChange:this.signupFormChange,name:"phone"}),d.default.createElement("span",{className:"glyphicon glyphicon-phone form-control-feedback"})),d.default.createElement("div",{className:"row",style:{marginBottom:20}},d.default.createElement("label",{className:"col-xs-12"},"Capabilities (",d.default.createElement("a",{href:"#",title:"Select categories for projects you are able to work on.  Only select those categories for which you have hands on experience or have done very similar work.",onClick:function(t){return e.showTip(t)},className:"tooltip-help"},"Help"),"):"),d.default.createElement("div",{className:"col-xs-12"},d.default.createElement(w.default,{id:"categories",className:"form-control",data:a.signupParams&&a.signupParams.categories&&a.signupParams.categories.length?E.default.map(a.signupParams.categories,function(e){return{id:e.id,text:e.name}}):[],multiple:!0,onSelect:function(t){return e.signupSelectCategory(t)},onUnselect:function(t){return e.signupSelectCategory(t)},defaultValue:a.newUser.categories&&a.newUser.categories.length?E.default.map(a.newUser.categories,function(e){return e.id}):[],name:"categories",options:{placeholder:"Select Skills",rows:2}}))),d.default.createElement("div",{className:"row",style:{marginBottom:20}},d.default.createElement("label",{className:"col-xs-12"},"Areas willing to serve (",d.default.createElement("a",{href:"#",title:"Select the closes city to you to see projects in and around that city. Our administrator will start you off with a 20 mile radius from your home zip code.",onClick:function(t){return e.showTip(t)},className:"tooltip-help"},"Help"),"):"),d.default.createElement("div",{className:"col-xs-12"},d.default.createElement(w.default,{id:"locations",className:"form-control",data:a.signupParams&&a.signupParams.locations&&a.signupParams.locations.length?E.default.map(a.signupParams.locations,function(e){return{id:e.id,text:e.name}}):[],multiple:!0,onSelect:function(t){return e.signupSelectLocation(t)},onUnselect:function(t){return e.signupSelectLocation(t)},defaultValue:a.newUser.locations&&a.newUser.locations.length?E.default.map(a.newUser.locations,function(e){return e.id}):[],name:"locations",options:{placeholder:"Select Cities",rows:2}}))),d.default.createElement("div",{className:"row",style:{marginBottom:20}},d.default.createElement("div",{className:"col-xs-12"},d.default.createElement("div",{className:"checkbox icheck"},d.default.createElement("label",null,d.default.createElement("input",{type:"checkbox",checked:!0})," I agree to the ",d.default.createElement("a",{href:Config.root+"terms/",target:"_blank"},"terms and conditions"),".")))),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-12"},d.default.createElement("div",{className:"pull-right"},d.default.createElement("button",{type:"button",className:"btn btn-success btn-block btn-flat",onClick:function(t){return e.signup(t)}},"Create my Account")))))):null,t.path==Config.root+"signup/success/"?d.default.createElement("div",{className:"login-box-body"},d.default.createElement("p",null,"Your account will be reviewed by our administrators shortly. Please wait for confirmation email.")):null)}},{key:"componentWillMount",value:function(){this.props.params.reset_key&&""!=this.props.params.reset_key&&y.verify(this.props.params.reset_key),this.props.path==Config.root+"signup/"&&y.signupParams()}},{key:"componentDidMount",value:function(){$(function(){$(".login-box input[type=text]").length>0&&$(".login-box input[type=text]")[0].focus(),$("body").hasClass("login-page")||$("html,body, #app").css({height:"100%"}),$.AdminLTE.layout.fix(),$(".login-box input[type=checkbox]").length&&$(".login-box input[type=checkbox]").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),$(".tooltip-help").tooltip({trigger:"click",placement:"top"})})}},{key:"componentWillReceiveProps",value:function(e){e.path!=Config.root+"signup/"||e.signupParams||y.signupParams(),JSON.stringify(e.signupParams)!=JSON.stringify(this.state.signupParams)&&this.setState(i({},this.state,{signupParams:e.signupParams}))}},{key:"componentDidUpdate",value:function(){$(".login-box input[type=checkbox]").length&&$(".login-box input[type=checkbox]").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}},{key:"componentWillUnmount",value:function(){$("body").hasClass("login-page")&&$("body").removeClass("login-page").attr("style",""),$("html,body, #app").css({height:"auto"})}}]),t}(d.default.Component),P=(0,p.connect)(S)(C);t.default=P},305:function(e,t){function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=a},306:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a.apply(this,arguments)}e.exports=a},307:function(e,t){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}e.exports=a},308:function(e,t){function a(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}e.exports=a},309:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=(a(4),a(5)),m=(l(f),a(1)),p=(l(m),a(6)),h=(n(p),a(18)),b=n(h),E=a(7),v=n(E),g=a(45),y=n(g),N=a(336),_=l(N),w=a(339),S=l(w),C=a(335),P=l(C),O=a(113),x=l(O),T=a(340),k=l(T),A=a(337),j=l(A);window.notifThread=null;var M=function(e){return{appdata:e.appdata,properties:e.properties}},L=function(e){return{setData:function(t){return e(b.set(t))},setLoading:function(t){return e(b.setLoading(t))},setParams:function(t){return e(b.setParams(t))}}},R=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={notificationThread:null,UIModal:null},a.setModal=a.setModal.bind(a),a.afterModalClose=a.afterModalClose.bind(a),a}return o(t,e),i(t,[{key:"setModal",value:function(e,t){e?this.state.UIModal={ModalChild:e,data:t}:this.state.UIModal=null,this.setState(this.state)}},{key:"afterModalClose",value:function(){this.setModal(null)}},{key:"render",value:function(){var e=this,t=this.props.appdata,a=t.user.id,n=this.state;return a?u.default.createElement("div",null,u.default.createElement(_.default,null),"admin"==t.user.type||"dispatcher"==t.user.type?u.default.createElement(S.default,null):null,u.default.Children.map(e.props.children,function(t){return u.default.cloneElement(t,{setModal:e.setModal})}),u.default.createElement(P.default,null),n.UIModal?u.default.createElement(j.default,{data:n.UIModal.data,ModalChild:n.UIModal.ModalChild,afterModalClose:this.afterModalClose}):null,t.loading?u.default.createElement(k.default,null):null):u.default.createElement("div",null,u.default.createElement(x.default,this.props),t.loading?u.default.createElement("div",{className:"overlay-wrapper"},u.default.createElement("div",{className:"overlay"},u.default.createElement("i",{className:"fa fa-refresh fa-spin"}))):null)}},{key:"componentWillMount",value:function(){this.props.appdata.session_key?v.checkSession(this.props.appdata.session_key):this.props.setLoading(!1)}},{key:"componentDidMount",value:function(){y.getUnread(),"technician"==window.localStorage.getItem(Config.name+"_user_type")&&$("body").addClass("layout-top-nav")}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidUpdate",value:function(){$(function(){$.AdminLTE.layout.fix(),$(".anim").addClass("anim-go")}),0==this.props.appdata.user.id||notifThread?0==this.props.appdata.user.id&&notifThread&&(clearInterval(notifThread),notifThread=null):notifThread=setInterval(function(){return y.getUnread()},5e3),v.allowed("technician")&&!$("body").hasClass("layout-top-nav")&&$("body").addClass("layout-top-nav")}},{key:"componentWillUnmount",value:function(){}}]),t}(u.default.Component),D=(0,d.connect)(M,L)(R);t.default=D},310:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.upsert=t.getList=t.setFilters=void 0;var r=a(7),s=l(r),o=a(6),i=l(o),c=a(19),u=n(c),d=a(18),f=(l(d),a(104)),m=l(f),p=(t.setFilters=function(e){(0,c.dispatch)(m.setFilters(e))},t.getList=function(e){e||(e=u.default.getState().comments.filters),i.post("comments/",{session_key:s.sessionKey(),filters:e},function(e){e&&e.success&&(0,c.dispatch)(m.set(e.comments))})});t.upsert=function(e){i.post("comments/upsert/",{session_key:s.sessionKey(),comment:e},function(e){e&&e.success&&(0,c.dispatch)(m.push(e.comment))})},t.remove=function(e){return!!e&&void i.post("comments/remove/",{session_key:s.sessionKey(),id:e},function(e){p()})}},311:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(13),f=(l(d),a(11)),m=(a(4),a(5)),p=(l(m),a(1)),h=(l(p),a(6)),b=(n(h),a(7)),E=n(b),v=a(312),g=n(v),y=a(45),N=n(y),_=a(27),w=(n(_),function(e){return{session_key:e.appdata.session_key,user:e.appdata.user,dashboard:e.dashboard.dashboard,users:e.users.users,userFilters:e.users.filters,notifications:e.notifications.notifications,path:e.routing.locationBeforeTransitions.pathname}}),S=function(e){function t(e){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){return this.state,this.props,u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},E.userType().ucwords()," Dashboard")),u.default.createElement("div",{className:"pull-right box-tools"}),u.default.createElement("div",{style:{clear:"both"}})))}},{key:"componentWillMount",value:function(){g.getList(),N.getList(null,25),E.setPage("")}},{key:"componentWillReceiveProps",value:function(e){}}]),t}(u.default.Component),C=(0,f.connect)(w)(S);t.default=C},312:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.getList=void 0;var r=a(7),s=l(r),o=a(6),i=l(o),c=a(19),u=(n(c),a(18)),d=(l(u),a(106)),f=l(d);t.getList=function(){s.setLoading(!0),i.post("dashboard/",{session_key:s.sessionKey()},function(e){s.setLoading(!1),e&&e.success&&(0,c.dispatch)(f.set(e.dashboard))},function(e){return!1})}},313:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(13),f=(l(d),a(4)),m=a(11),p=a(5),h=l(p),b=a(59),E=(l(b),a(6)),v=(n(E),a(7)),g=n(v),y=a(43),N=n(y),_=a(44),w=n(_),S=a(27),C=(n(S),a(54)),P=(l(C),a(103)),O=(l(P),a(26)),x=(l(O),function(e){return{user:e.appdata.user,
issue:e.issues.issue,options:e.issues.options,issueDefault:e.issues.issueDefault,filters:e.issues.filters}}),T=function(e){return{setFilters:function(t,a){return e(w.setFilters(t,a))},setSort:function(t,a){return e(w.setSort(t,a))},setPage:function(t,a){return e(w.setPage(t,a))}}},k=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={tab:"details"},a.getList=a.getList.bind(a),a.tabFilter=a.tabFilter.bind(a),a}return o(t,e),i(t,[{key:"getList",value:function(e,t){var a=e?g.getStore("issues")[e]:g.getStore("issues"),n=a.filters,l=(a.sort,a.page,this.props.params.id);n.id=l}},{key:"tabFilter",value:function(e){""==e&&N.getSingle(this.props.params.id)}},{key:"render",value:function(){var e=this.props,t=e.issue||h.default.cloneDeep(e.issueDefault),a=(e.options,!(!t||!t.id||"new"==t.id||""==t.id));return u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root+"issues/",className:""},"Issues")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:window.location.href,className:"active"},t.id)))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},a?t.title:"Issue Not Found")),a&&g.allowed(["admin"])?u.default.createElement("div",{className:"pull-right box-tools"},g.allowed(["admin"])?u.default.createElement(f.Link,{to:Config.root+"issues/"+t.id+"/edit/",className:"btn btn-flat btn-sm btn-primary pull-left",style:{marginLeft:"10px"}},u.default.createElement("i",{className:"fa fa-pencil"})," Edit"):null,u.default.createElement("button",{className:"btn btn-default btn-sm btn-flat",onClick:function(e){return N.close()}},"Close")):null,u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content "},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-12"},u.default.createElement("div",{className:"nav-tabs-custom"},u.default.createElement("ul",{className:"nav nav-tabs"},u.default.createElement("li",{className:""==e.route.tab?"active":""},u.default.createElement(f.Link,{to:Config.route+"issues/"+t.id+"/"},"Details"))),u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"tab-pane active",id:"details"},t&&t.id?u.default.createElement("div",{className:"row ",style:{marginLeft:0,marginRight:0,margin:"0 5px 40px 0"}},u.default.createElement("div",{className:"col-md-6"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Issue title:")),u.default.createElement("div",{className:"col-xs-8"},t.title))," ",u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Customer Name:")),u.default.createElement("div",{className:"col-xs-8"},t.customer_name))," ",u.default.createElement("hr",{className:"hr-narrow"}))):null)))))))}},{key:"componentWillMount",value:function(){var e=this.props;N.getSingle(e.params.id),g.setPage("issues")}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props)!=JSON.stringify(e)&&this.props.route.tab!=e.route.tab&&this.tabFilter(e.route.tab)}},{key:"componentWillUnmount",value:function(){N.clear()}}]),t}(u.default.Component),A=(0,m.connect)(x,T)(k);t.default=A},314:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),d=l(u),f=a(13),m=(l(f),a(4)),p=a(11),h=a(5),b=l(h),E=a(1),v=(l(E),a(70)),g=(l(v),a(6)),y=(n(g),a(7)),N=n(y),_=a(43),w=n(_),S=a(66),C=(l(S),a(28)),P=l(C),O=function(e){return{loading:e.appdata.loading,user:e.appdata.user,issue:e.issues.issue,issueDefault:e.issues.issueDefault,filterParams:e.issues.filterParams}},x=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={issue:e.issue&&"new"!=e.issue.id?e.issue:b.default.cloneDeep(e.issueDefault),updated:null},a.formChange=a.formChange.bind(a),a}return o(t,e),c(t,[{key:"formChange",value:function(e){var t=this.state;this.props,t.issue[e.target.name]=e.target.value,null==t.updated&&(t.updated={}),t.updated[e.target.name]=e.target.value,console.log(t.updated),console.log(t.issue),this.setState(t)}},{key:"render",value:function(){if(N.allowed(["admin"])){var e=this,t=this.state,a=this.props,n=this.state.issue,l=a.loading?"disabled":"";return d.default.createElement("div",{className:"content-wrapper"},d.default.createElement("div",{className:"content-top"},d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root,className:""},"Home")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root+"issues/",className:""},"Issues")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:window.location.href,className:"active"},n&&"new"!=n.id?"Edit":"New")))),d.default.createElement("section",{className:"content-header"},d.default.createElement("div",{className:"pull-left"},d.default.createElement("h1",{style:{margin:"0"}},n&&"new"!=n.id?n.id:"Add Issue")),d.default.createElement("div",{className:"pull-right box-tools"},d.default.createElement("button",{className:"btn btn-success btn-sm btn-flat "+l,onClick:function(a){return w.upsert(t.updated,n,function(){e.setState(i({},t,{updated:null}))})}},d.default.createElement("i",{className:"fa fa-cloud-upload"})," Save"),n&&"new"!=n.id?d.default.createElement("button",{className:"btn btn-danger btn-sm btn-flat "+l,onClick:function(e){return w.remove(n.id)}},d.default.createElement("i",{className:"fa fa-trash"})," Delete"):null,d.default.createElement("button",{className:"btn btn-default btn-sm btn-flat "+l,onClick:function(e){return w.close(t.updated,n)}},"Close")),d.default.createElement("div",{style:{clear:"both"}})),d.default.createElement("section",{className:"content"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-sm-6"},d.default.createElement("div",{className:"box box-primary"},d.default.createElement("div",{className:"box-header with-border"},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-map-pin"})," Issue Info")),d.default.createElement("div",{className:"box-body"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Customer Name:")),d.default.createElement("div",{className:"col-xs-8 col-sm-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.customer_name,onChange:this.formChange,name:"customer_name"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Issue Title:")),d.default.createElement("div",{className:"col-xs-8 col-sm-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.title,onChange:this.formChange,name:"title"}))),d.default.createElement("hr",{className:"hr-narrow"})))))))}return d.default.createElement(P.default,null)}},{key:"componentWillMount",value:function(){N.allowed(["admin"])&&w.getSingle(this.props.params.id),N.setPage("issues")}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props.issue)!=JSON.stringify(e.issue)&&N.allowed(["admin"])&&this.setState({issue:e.issue})}}]),t}(d.default.Component),T=(0,p.connect)(O)(x);t.default=T},315:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),d=l(u),f=a(13),m=(l(f),a(11)),p=a(4),h=a(5),b=(l(h),a(1)),E=(l(b),a(6)),v=(n(E),a(7)),g=n(v),y=a(43),N=n(y),_=a(44),w=n(_),S=a(317),C=l(S),P=a(26),O=l(P),x=function(e){return{session_key:e.appdata.session_key,issues:e.issues.issues,filterParams:e.issues.filterParams,filtersDefault:e.issues.filtersDefault,filters:e.issues.filters,page:e.issues.page,sort:e.issues.sort}},T=function(e){return{setFilters:function(t,a){return e(w.setFilters(t,a))},setSort:function(t,a){return e(w.setSort(t,a))},setPage:function(t,a){return e(w.setPage(t,a))}}},k=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getList=a.getList.bind(a),a.tabFilter=a.tabFilter.bind(a),a}return o(t,e),c(t,[{key:"getList",value:function(e,t){var a=e?g.getStore("issues")[e]:g.getStore("issues"),n=a.filters,l=a.sort,r=a.page;N.getList(n,!0,l,r,t)}},{key:"tabFilter",value:function(e,t){var a=this.props,n=t?a[t].filters:a.filters;a.setFilters(n,t),this.getList(t)}},{key:"render",value:function(){var e=this,t=this.props,a=this.props,n=a.filters,l=(a.sort,a.page,a.filterParams);return this.props.issues,console.log(this.props),d.default.createElement("div",{className:"content-wrapper"},d.default.createElement("div",{className:"content-top"},d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement(p.Link,{to:Config.root,className:""},"Home")),d.default.createElement("li",null,d.default.createElement(p.Link,{to:Config.root+"issues/",className:"active"},"Issues")))),d.default.createElement("section",{className:"content-header"},d.default.createElement("div",{className:"pull-left"},d.default.createElement("h1",{style:{margin:"0"}},"Issues")),d.default.createElement("div",{className:"pull-right box-tools"},d.default.createElement(p.Link,{to:Config.root+"issues/new/",className:"btn btn-flat btn-sm btn-primary pull-left",style:{marginLeft:"10px"}},d.default.createElement("i",{className:"fa fa-pencil"})," Add")),d.default.createElement("div",{style:{clear:"both"}})),d.default.createElement("section",{className:"content"},d.default.createElement("div",{className:"row",style:{margin:"0 0 20px 0"}},d.default.createElement("div",{className:"col-sm-2",style:{padding:0}},d.default.createElement("b",null,"Select Project: ")),d.default.createElement("div",{className:"col-sm-4",style:{padding:0}},d.default.createElement("select",{className:"form-control",onChange:function(e){t.setFilters(i({},n,{project_id:e.target.value})),N.getList()}},d.default.createElement("option",{value:""},"-Select Project-"),l.projects&&l.projects.length?l.projects.map(function(e,t){return d.default.createElement("option",{key:t,value:e.id},e.title)}):null,";"))),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-md-12"},d.default.createElement("div",{className:"nav-tabs-custom"},d.default.createElement("ul",{className:"nav nav-tabs"},d.default.createElement("li",{className:t.route.tab?"":"active"},d.default.createElement(p.Link,{to:Config.root+"issues/",onClick:function(t){return e.tabFilter("")}},"All")),d.default.createElement("li",{className:"pull-right"},d.default.createElement(O.default,{page:t.page,setPage:t.setPage,getList:this.getList,className:"hidden-xs"}))),d.default.createElement("div",{className:"tab-content"},d.default.createElement("div",{className:"tab-pane active",id:"issues-all"},d.default.createElement(C.default,{issues:t.issues,filters:t.filters,setFilters:t.setFilters,filterParams:t.filterParams,sort:t.sort,setSort:t.setSort,page:t.page,setPage:t.setPage,user:t.user,route:t.route,getList:this.getList,setModal:t.setModal}))))))))}},{key:"componentWillMount",value:function(){var e=this.props;g.setPage("issues"),this.tabFilter(e.route.tab)}},{key:"componentWillReceiveProps",value:function(e){this.props.route.tab!=e.route.tab&&this.tabFilter(e.route.tab)}}]),t}(d.default.Component),A=(0,m.connect)(x,T)(k);t.default=A},316:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=a(1),m=(l(f),a(5)),p=l(m),h=a(43),b=(n(h),a(523)),E=l(b),v=function(e){return{issueDefault:e.issues.issueDefault,issue:e.issues.issue,filterParams:e.issues.filterParams}},g=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={issue:p.default.cloneDeep(e.data.issue)||{id:"new",issue_id:"Add Issue"},updated:null},a.formChange=a.formChange.bind(a),a}return o(t,e),i(t,[{key:"formChange",value:function(e){var t=this.state;this.props,t.issue[e.target.name]=e.target.value,null==t.updated&&(t.updated={}),t.updated[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){var e=this.props,t=this.state,a=e.loading?"disabled":"",n={width:"600px"};return AppHelpers.screenIs("xs")&&(n.width="100%"),u.default.createElement("div",{className:"modal-dialog modal-md",role:"document",style:n},u.default.createElement("div",{className:"modal-content"},u.default.createElement("div",{className:"modal-header"},u.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},u.default.createElement("span",{"aria-hidden":"true"},"")),u.default.createElement("strong",null,t.issue.issue_id)),u.default.createElement("div",{className:"modal-body"},u.default.createElement("form",{className:"form-horizontal"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{className:"control-label col-sm-1 text-left"},"Title"),u.default.createElement("div",{className:"col-sm-11"},u.default.createElement("input",{type:"text",id:"issue-title",className:"form-control",value:t.issue.title,onChange:this.formChange,name:"title",placeholder:"Title"}))),u.default.createElement("div",{className:"form-group"},u.default.createElement(E.default,{id:"issue-description",minRows:6,className:"form-control",value:t.issue.description,onChange:this.formChange,name:"description",placeholder:"Description"})),u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"exampleInputFile"},"File input"),u.default.createElement("input",{type:"file",id:"exampleInputFile"}),u.default.createElement("p",{className:"help-block"},"Example block-level help text here.")),u.default.createElement("div",{className:"checkbox"},u.default.createElement("label",null,u.default.createElement("input",{type:"checkbox"})," Check me out")))),u.default.createElement("div",{className:"modal-footer",style:{position:"absolute",width:"100%",bottom:0,left:0}},u.default.createElement("div",{className:"pull-left"},u.default.createElement("button",{className:"btn btn-lg btn-success "+a},"Save"),"",u.default.createElement("button",{className:"btn btn-lg btn-default "+a,onClick:""==a?e.closeModal:function(){return!1}},"Close")),u.default.createElement("div",{className:"pull-right"}),u.default.createElement("div",{className:"text-center"},e.loading?u.default.createElement("span",null,u.default.createElement("i",{className:"fa fa-refresh fa-spin"})," Processing..."):null))))}},{key:"componentWillUnmount",value:function(){var e=this;e.props.onModalClose(e.props.data.closeIssue)}},{key:"componentDidMount",value:function(){}}]),t}(u.default.Component),y=(0,d.connect)(v)(g);t.default=y},317:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(2),f=l(d),m=a(4),p=a(1),h=(l(p),a(6)),b=(n(h),a(43)),E=n(b),v=a(69),g=l(v),y=a(67),N=(l(y),a(68)),_=l(N),w=a(26),S=(l(w),a(105)),C=(l(S),a(44)),P=(n(C),a(316)),O=l(P),x=function(e){function t(e){s(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={issues:e.issues,issues_updated:[],selectAll:!1,selecting:!1,selected:0,columns:e.columns||["id","issue","assignee","followup","status","done"]},a.filterChange=a.filterChange.bind(a),a.sortChange=a.sortChange.bind(a),a.toggleSelect=a.toggleSelect.bind(a),a.selectAll=a.selectAll.bind(a),a.deleteSelected=a.deleteSelected.bind(a),a.showIssue=a.showIssue.bind(a),a.closeIssue=a.closeIssue.bind(a),a}return i(t,e),u(t,[{key:"filterChange",value:function(e){var t=this.props,a=t.component;console.log(t.filters);var n=a?t[a].filters:t.filters,l=e.target,r=l.name,s=l.value;return n[r]=s,t.setFilters(n,a),!(s.length>0&&["issue"].inArray(r)&&s.length<3)&&void t.getList(a)}},{key:"sortChange",value:function(e,t){var a=this.props,n=a.component,l=n?a[n].sort:a.sort;l.by==e?l.dir="asc"==l.dir?"desc":"asc":l={by:e,dir:t||"asc"},a.setSort(l,n),a.getList(n)}},{key:"toggleSelect",value:function(e){var t=this.state;e&&(e.preventDefault(),e.stopPropagation()),t.selectAll=!1,t.issues=t.issues.map(function(e,a){return c({},e,{selected:t.selectAll})}),t.selecting=!t.selecting,this.setState(t)}},{key:"selectAll",value:function(){var e=this.state;e.selectAll=!e.selectAll,e.issues=e.issues.map(function(t,a){return c({},t,{selected:e.selectAll})}),this.setState(e)}},{key:"deleteSelected",value:function(){var e=this,t=this.state,a=[];t.issues.map(function(e,t){e.selected&&a.push(e.id)}),a.length&&E.remove(a,function(){return e.toggleSelect()})}},{key:"showIssue",value:function(e,t,a){var n=this.state;return!("div"==a&&!AppHelpers.screenIs("xs")||"a"==a&&AppHelpers.screenIs("xs"))&&(this.setState(c({},n,{selected:e.id})),void this.props.setModal(O.default,{id:"modal-issue",className:"modal right fade",issue:e,closeIssue:this.closeIssue}))}},{key:"closeIssue",value:function(){var e=this;e.setState(c({},e.state,{selected:0}))}},{key:"render",value:function(){var e=this,t=this.props,a=this.state,n=this.state.issues;return t.route.tab,f.default.createElement("div",{className:"issues-table"},f.default.createElement("div",{className:"row table-row table-header-row hidden-xs"},f.default.createElement("div",{className:"col-sm-1 col-xs-3",onClick:function(t){return e.sortChange("id")},style:{cursor:"pointer"}},f.default.createElement(_.default,{sort:t.sort,column:"id"}),f.default.createElement("b",null,"Issue #")),f.default.createElement("div",{className:"col-sm-3 col-xs-9",onClick:function(t){return e.sortChange("issue")},style:{cursor:"pointer"}},f.default.createElement(_.default,{sort:t.sort,column:"issue"}),f.default.createElement("b",null,"TItle/Description")),f.default.createElement("div",{className:"col-sm-1 hidden-xs",onClick:function(t){return e.sortChange("assignee")},style:{cursor:"pointer"}},f.default.createElement(_.default,{sort:t.sort,column:"assignee"}),f.default.createElement("b",null,"Assignee")),f.default.createElement("div",{className:"col-sm-1 hidden-xs",onClick:function(t){return e.sortChange("followup")},style:{cursor:"pointer"}},f.default.createElement(_.default,{sort:t.sort,column:"followup"}),f.default.createElement("b",null,"Followup")),f.default.createElement("div",{className:"col-xs-2 hidden-xs",onClick:function(t){return e.sortChange("status")},style:{cursor:"pointer"}},f.default.createElement(_.default,{sort:t.sort,column:"status"}),f.default.createElement("b",null,"Status")),f.default.createElement("div",{className:"col-sm-4 hidden-xs",onClick:function(t){return e.sortChange("done")},style:{cursor:"pointer"}},f.default.createElement(_.default,{sort:t.sort,column:"done"}),f.default.createElement("b",null,"Done")),f.default.createElement("div",{className:"clearfix"})),a.selecting||t.hideFilters?null:f.default.createElement(g.default,{className:"row table-row filter-row bg-gray"},f.default.createElement("div",{className:"col-sm-1"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"ID: ")),f.default.createElement("input",{name:"id",type:"text",className:"form-control",value:t.filters.id,onChange:this.filterChange,placeholder:"Version ID..."})),f.default.createElement("div",{className:"col-sm-3"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Description: ")),f.default.createElement("input",{name:"title",type:"text",className:"form-control",value:t.filters.title,onChange:this.filterChange,placeholder:"Issue..."})),f.default.createElement("div",{className:"col-sm-1"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Assignee: ")),f.default.createElement("input",{name:"assigned_to",type:"text",className:"form-control",value:t.filters.assigned_to,onChange:this.filterChange,placeholder:"Assignee..."})),f.default.createElement("div",{className:"col-sm-1"}),f.default.createElement("div",{className:"col-sm-2 "},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Status: ")),f.default.createElement("select",{className:"form-control users-select-type",onChange:this.filterChange,name:"status"},f.default.createElement("option",{value:""},"All"),f.default.createElement("option",{value:"DESIGNED"},"DESIGNED"),f.default.createElement("option",{value:"NOTSTARTED"},"NOT STARTED"))),f.default.createElement("div",{className:"col-sm-4"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Done: ")),f.default.createElement("input",{name:"done",type:"text",className:"form-control",value:t.filters.done,onChange:this.filterChange,placeholder:"Done..."})),f.default.createElement("div",{className:"clearfix"})),a.selecting?f.default.createElement("div",{className:"row table-row bg-gray text-center",style:{padding:10}},f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-default pull-right",onClick:function(){return e.selectAll()}},"Select All"),f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-default pull-left",onClick:function(){return e.setState(c({},e.state,{selecting:!1,issues:t.issues}))}},"Cancel"),f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-danger",onClick:function(){return e.deleteSelected()}},f.default.createElement("i",{className:"fa fa-trash"})," Remove")):null,n&&n.length?n.map(function(t,n){return f.default.createElement("div",{className:"row table-row table-body-row "+(a.selected==t.id?"bg-info":""),key:n,style:{position:"relative"}},f.default.createElement("div",{className:"col-sm-1 col-xs-3 text-left"},f.default.createElement("div",{className:"visible-xs"},f.default.createElement("span",{className:"label label-xs label-warning"},t.status.toUpperCase())),t.issue_id),f.default.createElement("div",{className:"col-sm-3 col-xs-8",style:{textOverflow:"ellipsis"},onClick:function(a){return e.showIssue(t,a,"div")}},f.default.createElement("a",{href:"javascript:;",onClick:function(a){e.showIssue(t,a,"a")}},f.default.createElement("b",null,t.title),f.default.createElement("br",null),t.description,f.default.createElement("br",null))),f.default.createElement("div",{className:"col-sm-1 hidden-xs"},t.assigned_to),f.default.createElement("div",{className:"col-sm-1 hidden-xs"}),f.default.createElement("div",{className:"col-xs-2 hidden-xs"},t.status),f.default.createElement("div",{className:"col-sm-4 hidden-xs"},t.done,f.default.createElement("br",null),t.next_steps),f.default.createElement("span",{style:{position:"absolute",top:"50%",right:15,marginTop:"-10px"}},a.selecting?f.default.createElement("input",{type:"checkbox",checked:t.selected}):f.default.createElement(m.Link,{to:Config.root+"issues/"+t.id+"/",title:"Open"})),f.default.createElement("div",{className:"clearfix"}))}):f.default.createElement("div",{className:"row table-row "},f.default.createElement("div",{className:"col-sm-12"},"No issues found."),f.default.createElement("div",{className:"clearfix"})))}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.state;t.selecting||JSON.stringify(this.props)==JSON.stringify(e)||(t.issues=[].concat(r(e.issues)),this.setState(t))}},{key:"componentWillUnmount",value:function(){}}]),t}(f.default.Component);t.default=x},318:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=a(4),m=a(5),p=(l(m),a(1)),h=(l(p),a(6)),b=(n(h),a(7)),E=n(b),v=a(107),g=(n(v),a(54)),y=l(g),N=function(e){return{logs:e.logs.logs}},_=function(e){function t(e){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){return this.state,this.props,u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root+"logs/",className:"active"},"Logs")))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},u.default.createElement("i",{className:"fa fa-history"})," My Activity History")),u.default.createElement("div",{className:"pull-right box-tools"}),u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-12"},u.default.createElement(y.default,null)))))}},{key:"componentWillMount",value:function(){E.setPage("logs")}},{key:"componentDidMount",value:function(){$(function(){$.AdminLTE.layout.fix(),$(".anim").addClass("anim-go")})}},{key:"componentWillReceiveProps",value:function(e){}}]),t}(u.default.Component),w=(0,d.connect)(N)(_);t.default=w},319:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=(a(4),a(5)),m=(l(f),a(1)),p=(l(m),a(6)),h=(n(p),a(7)),b=n(h),E=a(45),v=n(E),g=a(320),y=l(g),N=function(e){return{notifications:e.notifications.notifications}},_=function(e){function t(e){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){return this.state,this.props,u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:b.is("technician")?"container":""},u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},u.default.createElement("i",{className:"fa fa-bell"})," Notifications")),u.default.createElement("div",{className:"pull-right box-tools"}),u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-8"},u.default.createElement(y.default,null))))))}},{key:"componentWillMount",value:function(){v.getList(),b.setPage("notifications")}},{key:"componentWillReceiveProps",value:function(e){}}]),t}(u.default.Component),w=(0,d.connect)(N)(_);t.default=w},320:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=a(4),m=a(5),p=(l(m),a(1)),h=(l(p),a(6)),b=n(h),E=a(7),v=(n(E),a(45)),g=n(v),y=function(e){return{notifications:e.notifications.notifications}},N=function(e){function t(e){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=(this.state,this.props);return u.default.createElement("div",null,e.notifications&&e.notifications.length?e.notifications.map(function(e,t){var a=Config.root+e.component+"/";a+=e.item_id&&0!=e.item_id?e.item_id+"/":"";var n="0000-00-00 00:00:00"==e.date_read?"notification-unread":"";return u.default.createElement("p",{key:t,className:"notification-item "+n},u.default.createElement(f.Link,{to:a,onClick:function(){return g.read(e.id)}},u.default.createElement("span",null,"settings"==e.component?u.default.createElement("i",{className:"fa fa-gear text-red"}):null,"projects"==e.component?u.default.createElement("i",{className:"fa fa-book text-green"}):null,"users"==e.component?u.default.createElement("i",{className:"fa fa-user text-aqua"}):null,"locations"==e.component?u.default.createElement("i",{className:"fa fa-map-pin text-aqua"}):null)," ",u.default.createElement("span",{className:"message",dangerouslySetInnerHTML:{__html:e.message}}),"  ",u.default.createElement("br",{className:"visible-xs"}),u.default.createElement("span",{style:{color:"#aaa"}},u.default.createElement("small",null,b.tz(e.date_created).format("MMM D, YYYY, h:mm a")))))}):u.default.createElement("p",null,"No notifications found."),e.view&&"dashboard"==e.view?u.default.createElement(f.Link,{to:Config.root+"notifications/"},"See All"):null,e.view&&"all"==e.view?u.default.createElement("button",{className:"btn btn-info"},"SEE MORE"):null)}},{key:"componentWillMount",value:function(){}}]),t}(u.default.Component),_=(0,d.connect)(y)(N);t.default=_},321:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(13),f=(l(d),a(4)),m=a(11),p=a(5),h=l(p),b=a(59),E=(l(b),a(6)),v=(n(E),a(7)),g=n(v),y=a(55),N=n(y),_=a(46),w=n(_),S=a(27),C=(n(S),a(54)),P=(l(C),a(103)),O=(l(P),a(26)),x=(l(O),function(e){return{user:e.appdata.user,project:e.projects.project,options:e.projects.options,projectDefault:e.projects.projectDefault,filters:e.projects.filters}}),T=function(e){return{setFilters:function(t,a){return e(w.setFilters(t,a))},setSort:function(t,a){return e(w.setSort(t,a))},setPage:function(t,a){return e(w.setPage(t,a))}}},k=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={tab:"details"},a.getList=a.getList.bind(a),a.tabFilter=a.tabFilter.bind(a),a}return o(t,e),i(t,[{key:"getList",value:function(e,t){var a=e?g.getStore("projects")[e]:g.getStore("projects"),n=a.filters,l=(a.sort,a.page,this.props.params.id);n.id=l}},{key:"tabFilter",value:function(e){""==e&&N.getSingle(this.props.params.id)}},{key:"render",value:function(){var e=this.props,t=e.project||h.default.cloneDeep(e.projectDefault),a=(e.options,!(!t||!t.id||"new"==t.id||""==t.id));return u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root+"projects/",className:""},"Projects")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:window.location.href,className:"active"},t.id)))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},a?u.default.createElement("span",null," ",t.code?u.default.createElement("span",{className:"label label-primary"},t.code.toUpperCase()):null," ",t.title):"Project Not Found")),a&&g.allowed(["admin"])?u.default.createElement("div",{className:"pull-right box-tools"},g.allowed(["admin"])?u.default.createElement(f.Link,{to:Config.root+"projects/"+t.id+"/edit/",className:"btn btn-flat btn-sm btn-primary pull-left",style:{marginLeft:"10px"}},u.default.createElement("i",{className:"fa fa-pencil"})," Edit"):null,u.default.createElement("button",{className:"btn btn-default btn-sm btn-flat",onClick:function(e){return N.close()}},"Close")):null,u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content "},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-12"},u.default.createElement("div",{className:"nav-tabs-custom"},u.default.createElement("ul",{className:"nav nav-tabs"},u.default.createElement("li",{className:""==e.route.tab?"active":""},u.default.createElement(f.Link,{to:Config.route+"projects/"+t.id+"/"},"Details"))),u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"tab-pane active",id:"details"},t&&t.id?u.default.createElement("div",{className:"row ",style:{marginLeft:0,marginRight:0,margin:"0 5px 40px 0"}},u.default.createElement("div",{className:"col-md-6"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Project title:")),u.default.createElement("div",{className:"col-xs-8"},t.title))," ",u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Short Code:")),u.default.createElement("div",{className:"col-xs-8"},t.code))," ",u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Customer Name:")),u.default.createElement("div",{className:"col-xs-8"},t.customer_name))," ",u.default.createElement("hr",{className:"hr-narrow"}))):null)))))))}},{key:"componentWillMount",value:function(){var e=this.props;N.getSingle(e.params.id),g.setPage("projects")}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props)!=JSON.stringify(e)&&this.props.route.tab!=e.route.tab&&this.tabFilter(e.route.tab)}},{key:"componentWillUnmount",value:function(){N.clear()}}]),t}(u.default.Component),A=(0,m.connect)(x,T)(k);t.default=A},322:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),d=l(u),f=a(13),m=(l(f),a(4)),p=a(11),h=a(5),b=l(h),E=a(1),v=(l(E),a(70)),g=(l(v),a(6)),y=(n(g),a(7)),N=n(y),_=a(55),w=n(_),S=a(66),C=(l(S),a(28)),P=l(C),O=function(e){return{loading:e.appdata.loading,user:e.appdata.user,project:e.projects.project,projectDefault:e.projects.projectDefault,filterParams:e.projects.filterParams}},x=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={project:e.project&&"new"!=e.project.id?e.project:b.default.cloneDeep(e.projectDefault),updated:null},a.formChange=a.formChange.bind(a),a}return o(t,e),c(t,[{key:"formChange",value:function(e){var t=this.state;this.props,t.project[e.target.name]=e.target.value,null==t.updated&&(t.updated={}),t.updated[e.target.name]=e.target.value,console.log(t.updated),console.log(t.project),this.setState(t)}},{key:"render",value:function(){if(N.allowed(["admin"])){var e=this,t=this.state,a=this.props,n=this.state.project,l=a.loading?"disabled":"";return d.default.createElement("div",{className:"content-wrapper"},d.default.createElement("div",{className:"content-top"},d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root,className:""},"Home")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root+"projects/",className:""},"Projects")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:window.location.href,className:"active"},n&&"new"!=n.id?"Edit":"New")))),d.default.createElement("section",{className:"content-header"},d.default.createElement("div",{className:"pull-left"},d.default.createElement("h1",{style:{margin:"0"}},n&&"new"!=n.id?n.id:"Add Project")),d.default.createElement("div",{className:"pull-right box-tools"},d.default.createElement("button",{className:"btn btn-success btn-sm btn-flat "+l,onClick:function(a){return w.upsert(t.updated,n,function(){e.setState(i({},t,{updated:null}))})}},d.default.createElement("i",{className:"fa fa-cloud-upload"})," Save"),n&&"new"!=n.id?d.default.createElement("button",{className:"btn btn-danger btn-sm btn-flat "+l,onClick:function(e){return w.remove(n.id)}},d.default.createElement("i",{className:"fa fa-trash"})," Delete"):null,d.default.createElement("button",{className:"btn btn-default btn-sm btn-flat "+l,onClick:function(e){return w.close(t.updated,n)}},"Close")),d.default.createElement("div",{style:{clear:"both"}})),d.default.createElement("section",{className:"content"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-sm-6"},d.default.createElement("div",{className:"box box-primary"},d.default.createElement("div",{className:"box-header with-border"},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-map-pin"})," Project Info")),d.default.createElement("div",{className:"box-body"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Customer Name:")),d.default.createElement("div",{className:"col-xs-8 col-sm-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.customer_name,onChange:this.formChange,name:"customer_name"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Project Title:")),d.default.createElement("div",{className:"col-xs-8 col-sm-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.title,onChange:this.formChange,name:"title"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Project Code:")),d.default.createElement("div",{className:"col-xs-8 col-sm-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.code,onChange:this.formChange,name:"code"}))),d.default.createElement("hr",{className:"hr-narrow"})))))))}return d.default.createElement(P.default,null)}},{key:"componentWillMount",value:function(){N.allowed(["admin"])&&w.getSingle(this.props.params.id),N.setPage("projects")}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props.project)!=JSON.stringify(e.project)&&N.allowed(["admin"])&&this.setState({project:e.project})}}]),t}(d.default.Component),T=(0,p.connect)(O)(x);t.default=T},323:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(13),f=(l(d),a(11)),m=a(4),p=a(5),h=(l(p),a(1)),b=(l(h),a(6)),E=(n(b),a(7)),v=n(E),g=a(55),y=n(g),N=a(46),_=n(N),w=a(324),S=l(w),C=a(26),P=l(C),O=function(e){return{session_key:e.appdata.session_key,projects:e.projects.projects,filterParams:e.projects.filterParams,filtersDefault:e.projects.filtersDefault,filters:e.projects.filters,page:e.projects.page,sort:e.projects.sort}},x=function(e){return{setFilters:function(t,a){return e(_.setFilters(t,a))},setSort:function(t,a){return e(_.setSort(t,a))},setPage:function(t,a){return e(_.setPage(t,a))}}},T=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getList=a.getList.bind(a),a.tabFilter=a.tabFilter.bind(a),a}return o(t,e),i(t,[{key:"getList",value:function(e,t){var a=e?v.getStore("projects")[e]:v.getStore("projects"),n=a.filters,l=a.sort,r=a.page;y.getList(n,!0,l,r,t)}},{key:"tabFilter",value:function(e,t){var a=this.props,n=t?a[t].filters:a.filters;a.setFilters(n,t),this.getList(t)}},{key:"render",value:function(){var e=this,t=this.props;return this.props.page,this.props.projects,console.log(this.props),u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(m.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(m.Link,{to:Config.root+"projects/",className:"active"},"Projects")))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},"Projects")),u.default.createElement("div",{className:"pull-right box-tools"},u.default.createElement(m.Link,{to:Config.root+"projects/new/",className:"btn btn-flat btn-sm btn-primary pull-left",style:{marginLeft:"10px"}},u.default.createElement("i",{className:"fa fa-pencil"})," Add")),u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-12"},u.default.createElement("div",{className:"nav-tabs-custom"},u.default.createElement("ul",{className:"nav nav-tabs"},u.default.createElement("li",{className:t.route.tab?"":"active"},u.default.createElement(m.Link,{to:Config.root+"projects/",onClick:function(t){return e.tabFilter("")}},"All")),u.default.createElement("li",{className:"pull-right"},u.default.createElement(P.default,{page:t.page,setPage:t.setPage,getList:this.getList,className:"hidden-xs"}))),u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"tab-pane active",id:"projects-all"},u.default.createElement(S.default,{projects:t.projects,filters:t.filters,setFilters:t.setFilters,filterParams:t.filterParams,sort:t.sort,setSort:t.setSort,page:t.page,setPage:t.setPage,user:t.user,route:t.route,getList:this.getList}))))))))}},{key:"componentWillMount",value:function(){var e=this.props;v.setPage("projects"),this.tabFilter(e.route.tab)}},{key:"componentWillReceiveProps",value:function(e){this.props.route.tab!=e.route.tab&&this.tabFilter(e.route.tab)}}]),t}(u.default.Component),k=(0,f.connect)(O,x)(T);t.default=k},324:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(2),f=l(d),m=a(4),p=a(1),h=(l(p),a(6)),b=n(h),E=a(55),v=n(E),g=a(69),y=l(g),N=a(67),_=(l(N),a(68)),w=l(_),S=a(26),C=(l(S),a(105)),P=(l(C),a(46)),O=(n(P),function(e){function t(e){s(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={projects:e.projects,projects_updated:[],selectAll:!1,selecting:!1,columns:e.columns||["id","customer_name","title"]},a.filterChange=a.filterChange.bind(a),a.sortChange=a.sortChange.bind(a),a.toggleSelect=a.toggleSelect.bind(a),a.selectAll=a.selectAll.bind(a),a.deleteSelected=a.deleteSelected.bind(a),a}return i(t,e),u(t,[{key:"filterChange",value:function(e){var t=this.props,a=t.component;console.log(t.filters);var n=a?t[a].filters:t.filters,l=e.target,r=l.name,s=l.value;return n[r]=s,t.setFilters(n,a),!(s.length>0&&["project"].inArray(r)&&s.length<3)&&void t.getList(a)}},{key:"sortChange",value:function(e,t){var a=this.props,n=a.component,l=n?a[n].sort:a.sort;l.by==e?l.dir="asc"==l.dir?"desc":"asc":l={by:e,dir:t||"asc"},a.setSort(l,n),a.getList(n)}},{key:"toggleSelect",value:function(e){var t=this.state;e&&(e.preventDefault(),e.stopPropagation()),t.selectAll=!1,t.projects=t.projects.map(function(e,a){return c({},e,{selected:t.selectAll})}),t.selecting=!t.selecting,this.setState(t)}},{key:"selectAll",value:function(){var e=this.state;e.selectAll=!e.selectAll,e.projects=e.projects.map(function(t,a){return c({},t,{selected:e.selectAll})}),this.setState(e)}},{key:"deleteSelected",value:function(){var e=this,t=this.state,a=[];t.projects.map(function(e,t){e.selected&&a.push(e.id)}),a.length&&v.remove(a,function(){return e.toggleSelect()})}},{key:"handleClick",value:function(e,t){var a=this.state;if(!a.selecting)return b.push("projects/"+e.id+"/"),!1}},{key:"render",value:function(){var e=this,t=this.props,a=this.state,n=this.state.projects;return t.route.tab,f.default.createElement("div",{className:"projects-table"},f.default.createElement("div",{className:"row table-row table-header-row hidden-xs"},f.default.createElement("div",{className:"col-sm-1",onClick:function(t){return e.sortChange("id")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"id"}),f.default.createElement("b",null,"ID ")),f.default.createElement("div",{className:"col-sm-3 hidden-xs",onClick:function(t){return e.sortChange("customer_name")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"customer_name"}),f.default.createElement("b",null,"Customer Name")),f.default.createElement("div",{className:"col-sm-3 hidden-xs",onClick:function(t){return e.sortChange("title")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"title"}),f.default.createElement("b",null,"Title")),f.default.createElement("div",{className:"clearfix"})),a.selecting||t.hideFilters?null:f.default.createElement(y.default,{className:"row table-row filter-row bg-gray"},f.default.createElement("div",{className:"col-sm-3"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Customer Name: ")),f.default.createElement("input",{name:"customer_name",type:"text",className:"form-control",value:t.filters.customer_name,onChange:this.filterChange,placeholder:"Customer Name..."})),f.default.createElement("div",{className:"col-sm-3"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Title: ")),f.default.createElement("input",{name:"title",type:"text",className:"form-control",value:t.filters.title,onChange:this.filterChange,placeholder:"Title..."})),f.default.createElement("div",{className:"clearfix"})),a.selecting?f.default.createElement("div",{className:"row table-row bg-gray text-center",style:{padding:10}},f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-default pull-right",onClick:function(){return e.selectAll()}},"Select All"),f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-default pull-left",onClick:function(){return e.setState(c({},e.state,{selecting:!1,projects:t.projects}))}},"Cancel"),f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-danger",onClick:function(){return e.deleteSelected()}},f.default.createElement("i",{className:"fa fa-trash"})," Remove")):null,n&&n.length?n.map(function(e,t){return f.default.createElement("div",{className:"row table-row table-body-row ",key:t,style:{position:"relative"}},f.default.createElement("div",{className:"col-sm-3 hidden-xs"},f.default.createElement(m.Link,{to:Config.root+"projects/"+e.id+"/"},f.default.createElement("b",null,e.customer_name))),f.default.createElement("div",{className:"col-sm-3 hidden-xs"},f.default.createElement(m.Link,{to:Config.root+"projects/"+e.id+"/"},f.default.createElement("b",null,e.title))),f.default.createElement("span",{style:{position:"absolute",top:"50%",right:15,marginTop:"-10px"}},a.selecting?f.default.createElement("input",{type:"checkbox",checked:e.selected}):f.default.createElement(m.Link,{to:Config.root+"projects/"+e.id+"/",title:"Open"})),f.default.createElement("div",{className:"clearfix"}))}):f.default.createElement("div",{className:"row table-row "},f.default.createElement("div",{className:"col-sm-12"},"No projects found."),f.default.createElement("div",{className:"clearfix"})))}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.state;t.selecting||JSON.stringify(this.props)==JSON.stringify(e)||(t.projects=[].concat(r(e.projects)),this.setState(t))}},{key:"componentWillUnmount",value:function(){}}]),t}(f.default.Component));t.default=O},325:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),d=l(u),f=a(11),m=a(4),p=a(5),h=l(p),b=a(1),E=(l(b),a(6)),v=n(E),g=a(7),y=n(g),N=a(110),_=n(N),w=a(28),S=l(w),C=function(e){return{appdata:e.appdata,settings:e.settings.settings}},P=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={settings:h.default.cloneDeep(e.settings),settingsUpdated:null},a.formChange=a.formChange.bind(a),a}return o(t,e),c(t,[{key:"formChange",value:function(e){var t=this.state;t.settings[e.target.name]=e.target.value,null==t.settingsUpdated&&(t.settingsUpdated={}),t.settingsUpdated[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){var e=this;if(y.allowed(["admin"])){var t=this,a=this.state,n=(this.props,this.state.settings);return d.default.createElement("div",{className:"content-wrapper"},d.default.createElement("div",{className:"content-top"},d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root,className:""},"Home")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root+"settings/",className:""},"Settings")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root+"settings/edit/",className:"active"},"Modify")))),d.default.createElement("section",{className:"content-header"},d.default.createElement("div",{className:"pull-left"},d.default.createElement("h1",{style:{margin:"0"}},"Modify Settings")),d.default.createElement("div",{className:"pull-right box-tools"},d.default.createElement("button",{className:"btn btn-success btn-sm",onClick:function(e){return _.set(a.settingsUpdated,function(){t.setState(i({},a,{settingsUpdated:null}))})}},d.default.createElement("i",{className:"fa fa-cloud-upload"})," Save"),"",d.default.createElement("button",{className:"btn btn-default btn-sm",onClick:function(e){(a.settingsUpdated&&confirm("There are unsaved changes. Are you sure you want to close this form?")||!a.settingsUpdated)&&v.push("settings/")}},"Close")),d.default.createElement("div",{style:{clear:"both"}})),d.default.createElement("section",{className:"content"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-sm-7"},d.default.createElement("div",{className:"box box-primary"},d.default.createElement("div",{className:"box-header with-border"},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-building"})," Company Info"),d.default.createElement("div",{className:"box-tools pull-right"},d.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse"},d.default.createElement("i",{className:"fa fa-minus"})))),d.default.createElement("div",{className:"box-body"},d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Name:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.company_name,onChange:this.formChange,name:"company_name"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"
},d.default.createElement("b",null,"Phone:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.company_phone,onChange:this.formChange,name:"company_phone"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Email:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.company_email,onChange:this.formChange,name:"company_email"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Address:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("textarea",{className:"form-control",value:n.company_address,onChange:this.formChange,name:"company_address",rows:4}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"City:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.company_city,onChange:this.formChange,name:"company_city"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"State:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.company_state,onChange:this.formChange,name:"company_state"}))),d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"ZIP:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.company_zip,onChange:this.formChange,name:"company_zip"}))))),d.default.createElement("div",{className:"box box-primary"},d.default.createElement("div",{className:"box-header with-border"},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-gear"})," General Settings"),d.default.createElement("div",{className:"box-tools pull-right"},d.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse"},d.default.createElement("i",{className:"fa fa-minus"})))),d.default.createElement("div",{className:"box-body"},d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-12"},d.default.createElement("b",null,"Note to Technicians:")),d.default.createElement("div",{className:"col-xs-12"},d.default.createElement("textarea",{className:"form-control",value:n.note_to_technician,onChange:this.formChange,name:"note_to_technician",rows:8}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-12"},d.default.createElement("b",null,"Note to Dispatchers:")),d.default.createElement("div",{className:"col-xs-12"},d.default.createElement("textarea",{className:"form-control",value:n.note_to_dispatcher,onChange:this.formChange,name:"note_to_dispatcher",rows:8}))))),d.default.createElement("div",{className:"box box-primary"},d.default.createElement("div",{className:"box-header with-border"},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-envelope"})," SMTP Mailer Credentials")),d.default.createElement("div",{className:"box-body"},d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Enabled:")),d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("select",{className:"form-control",value:n.smtp_enabled,onChange:function(t){return e.formChange(t)},name:"smtp_enabled"},d.default.createElement("option",{value:"1"},"Yes"),d.default.createElement("option",{value:"0"},"No")))),1==n.smtp_enabled?d.default.createElement("div",null,d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Host:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.smtp_host,onChange:function(t){return e.formChange(t)},name:"smtp_host"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Port:")),d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("input",{type:"text",className:"form-control",value:n.smtp_port,onChange:function(t){return e.formChange(t)},name:"smtp_port"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Security:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("select",{className:"form-control",value:n.smtp_security,onChange:function(t){return e.formChange(t)},name:"smtp_security"},d.default.createElement("option",{value:"SSL"},"TLS/SSL"),d.default.createElement("option",{value:""},"None")))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"User:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.smtp_user,onChange:function(t){return e.formChange(t)},name:"smtp_user"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Password:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"password",className:"form-control",value:n.smtp_pass,onChange:function(t){return e.formChange(t)},name:"smtp_pass"})))):null)),d.default.createElement("div",{className:"box box-primary"},d.default.createElement("div",{className:"box-header with-border"},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-mobile-phone"})," Twilio API Credentials")),d.default.createElement("div",{className:"box-body"},d.default.createElement("div",{className:"row "},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"Enabled:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("select",{className:"form-control",value:n.twilio_enabled,onChange:function(t){return e.formChange(t)},name:"twilio_enabled"},d.default.createElement("option",{value:"1"},"Yes"),d.default.createElement("option",{value:"0"},"No")))),1==n.twilio_enabled?d.default.createElement("div",null,d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"API Endpoint:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.twilio_api,onChange:function(t){return e.formChange(t)},name:"twilio_api"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"API Account SID:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.twilio_api_sid,onChange:function(t){return e.formChange(t)},name:"twilio_api_sid"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"API Auth Token:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.twilio_api_authtoken,onChange:function(t){return e.formChange(t)},name:"twilio_api_authtoken"}))),d.default.createElement("hr",{className:"hr-narrow"}),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-4"},d.default.createElement("b",null,"SMS Phone Number:")),d.default.createElement("div",{className:"col-xs-8"},d.default.createElement("input",{type:"text",className:"form-control",value:n.twilio_api_from,onChange:function(t){return e.formChange(t)},name:"twilio_api_from"})))):null))))))}return d.default.createElement(S.default,null)}},{key:"componentWillMount",value:function(){_.get(),y.setPage("settings")}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props.settings)!==JSON.stringify(e.settings)&&this.setState({settings:h.default.cloneDeep(e.settings)})}}]),t}(u.Component),O=(0,f.connect)(C)(P);t.default=O},326:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=a(4),m=a(5),p=(l(m),a(1)),h=(l(p),a(276)),b=l(h),E=a(7),v=n(E),g=a(110),y=n(g),N=a(28),_=l(N),w=function(e){return{appdata:e.appdata,settings:e.settings.settings}},S=function(e){function t(e){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){if(v.allowed(["admin"])){var e=(this.state,this.props,this.props.settings);return u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root+"settings/",className:"active"},"Settings")))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},"Settings")),u.default.createElement("div",{className:"pull-right box-tools"},u.default.createElement(f.Link,{to:Config.root+"settings/edit/",className:"btn btn-primary btn-sm"},u.default.createElement("i",{className:"fa fa-pencil"})," Edit")),u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-7"},u.default.createElement("div",{className:"box box-primary"},u.default.createElement("div",{className:"box-header with-border"},u.default.createElement("h3",{className:"box-title"},u.default.createElement("i",{className:"fa fa-building"})," Company Info"),u.default.createElement("div",{className:"box-tools pull-right"},u.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse"},u.default.createElement("i",{className:"fa fa-minus"})))),u.default.createElement("div",{className:"box-body"},u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Name:")),u.default.createElement("div",{className:"col-xs-8"},e.company_name)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Phone:")),u.default.createElement("div",{className:"col-xs-8"},e.company_phone)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Email:")),u.default.createElement("div",{className:"col-xs-8"},e.company_email)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Address:")),u.default.createElement("div",{className:"col-xs-8"},e.company_address)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"City:")),u.default.createElement("div",{className:"col-xs-8"},e.company_city)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"State:")),u.default.createElement("div",{className:"col-xs-8"},e.company_state)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"ZIP:")),u.default.createElement("div",{className:"col-xs-8"},e.company_zip)))),u.default.createElement("div",{className:"box box-primary"},u.default.createElement("div",{className:"box-header with-border"},u.default.createElement("h3",{className:"box-title"},u.default.createElement("i",{className:"fa fa-gear"})," General Settings"),u.default.createElement("div",{className:"box-tools pull-right"},u.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse"},u.default.createElement("i",{className:"fa fa-minus"})))),u.default.createElement("div",{className:"box-body"},u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("b",null,"Note to Technicians:")),u.default.createElement("div",{className:"col-xs-12"},(0,b.default)(e.note_to_technician))),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("b",null,"Note to Dispatchers:")),u.default.createElement("div",{className:"col-xs-12"},(0,b.default)(e.note_to_dispatcher))))),u.default.createElement("div",{className:"box box-primary"},u.default.createElement("div",{className:"box-header with-border"},u.default.createElement("h3",{className:"box-title"},u.default.createElement("i",{className:"fa fa-envelope"})," SMTP Mailer Credentials"),u.default.createElement("div",{className:"box-tools pull-right"},u.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse"},u.default.createElement("i",{className:"fa fa-minus"})))),u.default.createElement("div",{className:"box-body"},u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Enabled:")),u.default.createElement("div",{className:"col-xs-8"},1==e.smtp_enabled?"Yes":"No")),1==e.smtp_enabled?u.default.createElement("div",null,u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Host:")),u.default.createElement("div",{className:"col-xs-8"},e.smtp_host)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Port:")),u.default.createElement("div",{className:"col-xs-8"},e.smtp_port)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Security:")),u.default.createElement("div",{className:"col-xs-8"},e.smtp_security)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"User:")),u.default.createElement("div",{className:"col-xs-8"},e.smtp_user)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Password:")),u.default.createElement("div",{className:"col-xs-8"},"*****"))):u.default.createElement("div",null,u.default.createElement("br",null),u.default.createElement("p",null,u.default.createElement("i",null," Note: The app will attempt to use phpmailer and sendmail libraries for email notifications. However, emails may be put in spam folders since the mail server is not a known email service provider.")," ")))),u.default.createElement("div",{className:"box box-primary"},u.default.createElement("div",{className:"box-header with-border"},u.default.createElement("h3",{className:"box-title"},u.default.createElement("i",{className:"fa fa-mobile-phone"})," Twilio API Credentials"),u.default.createElement("div",{className:"box-tools pull-right"},u.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse"},u.default.createElement("i",{className:"fa fa-minus"})))),u.default.createElement("div",{className:"box-body"},u.default.createElement("div",{className:"row "},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Enabled:")),u.default.createElement("div",{className:"col-xs-8"},1==e.twilio_enabled?"Yes":"No")),1==e.twilio_enabled?u.default.createElement("div",null,u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"API Endpoint:")),u.default.createElement("div",{className:"col-xs-8"},e.twilio_api)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"API Account SID:")),u.default.createElement("div",{className:"col-xs-8"},e.twilio_api_sid)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"API Auth Token:")),u.default.createElement("div",{className:"col-xs-8"},e.twilio_api_authtoken)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"SMS Phone Number:")),u.default.createElement("div",{className:"col-xs-8"},e.twilio_api_from))):null))))))}return u.default.createElement(_.default,null)}},{key:"componentWillMount",value:function(){v.allowed(["admin","dispatcher"])&&y.get(),v.setPage("settings")}},{key:"componentDidMount",value:function(){$(function(){$.AdminLTE.layout.fix(),$(".anim").addClass("anim-go")})}},{key:"componentWillReceiveProps",value:function(e){}}]),t}(c.Component),C=(0,d.connect)(w)(S);t.default=C},327:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(13),f=(l(d),a(4)),m=a(11),p=a(5),h=l(p),b=a(1),E=(l(b),a(6)),v=(n(E),a(7)),g=n(v),y=a(27),N=n(y),_=a(33),w=n(_),S=a(28),C=l(S),P=a(54),O=l(P),x=a(112),T=(l(x),function(e){return{user:e.users.user,userDefault:e.users.userDefault,filters:e.users.filters}}),k=function(e){return{setFilters:function(t,a){return e(w.setFilters(t,a))},setSort:function(t,a){return e(w.setSort(t,a))},setPage:function(t,a){return e(w.setPage(t,a))}}},A=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={tab:"details"},a.getList=a.getList.bind(a),a.tabFilter=a.tabFilter.bind(a),a}return o(t,e),i(t,[{key:"getList",value:function(e,t){var a=e?g.getStore("users")[e]:g.getStore("users"),n=a.filters,l=(a.sort,a.page,this.props.params.id);n.tech_id=l}},{key:"tabFilter",value:function(e){N.getUserDetails(this.props.params.id)}},{key:"render",value:function(){if(g.allowed(["admin","dispatcher"])){var e=this.props,t=e.user||h.default.cloneDeep(e.userDefault);return"technician"!=t.type||t.status!=-1||g.is("admin")?u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root+"users/",className:""},"Users")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:window.location.href,className:"active"},t.name)))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},t.name,u.default.createElement("br",null),u.default.createElement("small",null,u.default.createElement("i",{className:"fa fa-user"})," ",t.type.ucwords()))),u.default.createElement("div",{className:"pull-right box-tools"},t.status>-1&&g.allowed(["admin"])?u.default.createElement(f.Link,{to:Config.root+"users/"+t.id+"/edit/",className:"btn btn-flat btn-sm btn-primary pull-left",style:{marginLeft:"10px"}},u.default.createElement("i",{className:"fa fa-pencil"})," Edit"):null,g.allowed(["admin"])&&"technician"==t.type?u.default.createElement("button",{type:"button",className:"btn btn-flat btn-sm btn-primary",onClick:function(e){return N.rateIncrease(t.id)}},"Update Rate"):null),u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-12"},u.default.createElement("div",{className:"nav-tabs-custom"},u.default.createElement("ul",{className:"nav nav-tabs"},u.default.createElement("li",{className:""==e.route.tab?"active":""},u.default.createElement(f.Link,{to:Config.root+"users/"+t.id+"/"},"Details")),u.default.createElement("li",{className:"logs"==e.route.tab?"active":""},u.default.createElement(f.Link,{to:Config.root+"users/"+t.id+"/logs/"},"History"))),u.default.createElement("div",{className:"tab-content no-padding"},u.default.createElement("div",{className:"tab-pane table-responsive active",id:"details"},""==e.route.tab?u.default.createElement("div",{className:"row ",style:{marginLeft:0,marginRight:0,margin:"40px 0"}},u.default.createElement("div",{className:"col-md-6"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Name:")),u.default.createElement("div",{className:"col-xs-8"},t.name)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Email:")),u.default.createElement("div",{className:"col-xs-8"},t.email)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Slack ID:")),u.default.createElement("div",{className:"col-xs-8"},t.slack_email)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Phone No.:")),u.default.createElement("div",{className:"col-xs-8"},t.phone)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-4"},u.default.createElement("b",null,"Notes:")),u.default.createElement("div",{className:"col-sm-8"},t.notes))),u.default.createElement("div",{className:"col-sm-6"},u.default.createElement("div",{className:"visible-xs",style:{paddingTop:20,borderTop:"1px solid #dedede"}},""))):null,"logs"==e.route.tab?u.default.createElement("div",{className:"row",style:{margin:"20px"}},u.default.createElement(O.default,{filters:{user_id:t.id}})):null))))))):u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:Config.root+"users/",className:""},"Users")),u.default.createElement("li",null,u.default.createElement(f.Link,{to:window.location.href,className:"active"},t.name)))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},"Restricted"))))}return u.default.createElement(C.default,null)}},{key:"componentWillMount",value:function(){g.allowed(["admin","dispatcher"])&&(N.getUserDetails(this.props.params.id),this.tabFilter(this.props.route.tab)),g.setPage("users")}},{key:"componentWillReceiveProps",value:function(e){this.props.route.tab!=e.route.tab&&this.tabFilter(e.route.tab),this.props.params.id!=e.params.id&&N.getUserDetails(e.params.id)}},{key:"componentWillUnmount",value:function(){N.clearUser()}}]),t}(u.default.Component),j=(0,m.connect)(T,k)(A);t.default=j},328:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),d=l(u),f=a(13),m=(l(f),a(4)),p=a(11),h=a(5),b=l(h),E=a(1),v=(l(E),a(6)),g=(n(v),a(7)),y=n(g),N=a(27),_=n(N),w=a(99),S=l(w),C=a(28),P=l(C),O=function(e){return{appdata:e.appdata,user:e.users.user,userDefault:e.users.userDefault,filters:e.users.filters,filterParams:e.users.filterParams}},x=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={user:e.user&&e.user.id?b.default.cloneDeep(e.user):b.default.cloneDeep(e.userDefault),managers:[],edited:!1,changePassword:!0},a.state.user.type=e.filters.type,a.formChange=a.formChange.bind(a),a.upsertUser=a.upsertUser.bind(a),a.toggleRole=a.toggleRole.bind(a),a.addLocation=a.addLocation.bind(a),a.locationFormUpdate=a.locationFormUpdate.bind(a),a.locationAction=a.locationAction.bind(a),a.assignLocation=a.assignLocation.bind(a),a.assignCategory=a.assignCategory.bind(a),a}return o(t,e),c(t,[{key:"upsertUser",value:function(){var e=this.state.user,t=[];return"new"==e.id&&""==e.pass&&t.push("Please enter a password."),""!=e.pass&&e.pass!=this.state.user.pass_confirm&&t.push("Passwords do not match."),t.length>0?(alert("ERROR: The following errors were found:\n- "+t.join("\n- ")),!1):void _.upsertUser(e)}},{key:"formChange",value:function(e){var t=this.state,a=e.target.value;t.user[e.target.name]=a,this.setState(t)}},{key:"toggleRole",value:function(e){this.setState(i({},this.state,{user:i({},this.state.user,{type:e})}))}},{key:"addLocation",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.state,a={ul_id:"new",id:0,address_street:"",address_city:"",address_state:"",address_zip:"",edit:1};t.user.locations=t.user.locations||[],t.user.locations.push(a),this.setState(t)}},{key:"locationFormUpdate",value:function(e,t){e&&(e.preventDefault(),e.stopPropagation());var a=this.state;if(!a.user.locations[t])return!1;var n=e.target,l=n.name,r=n.value;if(a.user.locations[t]&&(a.user.locations[t][l]=r,"id"==l)){var s=this.props.filterParams.locations,o=b.default.find(s,{id:r});o&&(a.user.locations[t].location_name=o.city+", "+o.state)}this.setState(a)}},{key:"locationAction",value:function(e,t,a){e&&(e.preventDefault(),e.stopPropagation());var n=this.state;"edit"==a?n.user.locations[t].edit=1:"close"==a?n.user.locations[t].edit=0:"remove"==a&&n.user.locations.splice(t,1),this.setState(n)}},{key:"assignLocation",value:function(e){var t=this.state;t.user.locations=t.user.locations||[];var a=void 0!=b.default.find(t.user.locations,{id:e});a?t.user.locations=b.default.filter(t.user.locations,function(t){return t.id!=e}):t.user.locations.push({ul_id:"new",id:e}),this.setState(t)}},{key:"assignCategory",value:function(e){var t=this.state,a=e.params.data;t.user.categories=t.user.categories||[],a.selected?t.user.categories.push({uc_id:"new",id:a.id}):t.user.categories=b.default.filter(t.user.categories,function(e){return e.id!=a.id}),this.setState(t)}},{key:"render",value:function(){var e=this;if(y.allowed(["admin"])){var t=this.state,a=this.props,n=this.state.user,l=a.filterParams.locations,r=a.appdata.loading?"disabled":"";return d.default.createElement("div",{className:"content-wrapper"},d.default.createElement("div",{className:"content-top"
},d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root,className:""},"Home")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:Config.root+"users/",className:""},"Users")),d.default.createElement("li",null,d.default.createElement(m.Link,{to:window.location.href,className:"active"},n&&"new"!=n.id?"Edit":"New")))),d.default.createElement("section",{className:"content-header"},d.default.createElement("div",{className:"pull-left"},d.default.createElement("h1",{style:{margin:"0"}},n&&"new"!=n.id?n.name:"Add User")),d.default.createElement("div",{className:"pull-right box-tools"},d.default.createElement("button",{type:"button",className:"btn btn-success btn-sm btn-flat "+r,onClick:this.upsertUser},d.default.createElement("i",{className:"fa fa-cloud-upload"})," Save"),n&&"new"!=n.id?d.default.createElement("button",{className:"btn btn-danger btn-sm btn-flat "+r,onClick:function(e){return _.remove(n.id)}},d.default.createElement("i",{className:"fa fa-trans"})," Delete"):null,d.default.createElement("button",{type:"button",className:"btn btn-default btn-sm btn-flat"+r,onClick:function(e){return _.close(null,n)}},"Close")),d.default.createElement("div",{style:{clear:"both"}})),d.default.createElement("section",{className:"content"},d.default.createElement("div",{className:"row"},d.default.createElement("form",{className:"form-horizontal"},d.default.createElement("div",{className:"col-sm-6 "},d.default.createElement("div",{className:"box box-default"},d.default.createElement("div",{className:"box-header with-border "},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-info"})," General Information")),d.default.createElement("div",{className:"box-body"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-type",className:"col-sm-4 control-label"},"Role"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("div",{className:"form-group",style:{padding:8,margin:0}},d.default.createElement("div",{className:"btn-group"},d.default.createElement("button",{style:{fontSize:"13px",paddingLeft:8,paddingRight:8},type:"button",className:"btn btn-flat "+("technician"==t.user.type?"active btn-success":"btn-default"),onClick:function(t){return e.toggleRole("technician")}},"Technician"),d.default.createElement("button",{style:{fontSize:"13px",paddingLeft:8,paddingRight:8},type:"button",className:"btn btn-flat "+("distributor"==t.user.type?"active btn-success":"btn-default"),onClick:function(t){return e.toggleRole("distributor")}},"Distributor"),d.default.createElement("button",{style:{fontSize:"13px",paddingLeft:8,paddingRight:8},type:"button",className:"btn btn-flat "+("dispatcher"==t.user.type?"active btn-success":"btn-default"),onClick:function(t){return e.toggleRole("dispatcher")}},"Dispatcher"),y.allowed(["admin"])?d.default.createElement("button",{style:{fontSize:"13px",paddingLeft:8,paddingRight:8},type:"button",className:"btn btn-flat "+("admin"==t.user.type?"active btn-success":"btn-default"),onClick:function(t){return e.toggleRole("admin")}},"Admin"):null)))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-name_first",className:"col-sm-4 control-label"},"First Name"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("input",{type:"text",name:"name_first",className:"form-control",id:"input-name_first",placeholder:"First Name",value:t.user.name_first,onChange:this.formChange}))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-name_last",className:"col-sm-4 control-label"},"Last Name"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("input",{type:"text",name:"name_last",className:"form-control",id:"input-name_last",placeholder:"Last Name",value:t.user.name_last,onChange:this.formChange}))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-email",className:"col-sm-4 control-label"},"Email"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("input",{type:"text",name:"email",className:"form-control",id:"input-email",placeholder:"Email",value:t.user.email,onChange:this.formChange}))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-slack_email",className:"col-sm-4 control-label"},"Slack Email"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("input",{type:"text",name:"slack_email",className:"form-control",id:"input-slack_email",placeholder:"Slack Email",value:t.user.slack_email,onChange:this.formChange}))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-phone",className:"col-sm-4 control-label"},"Mobile Number"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("input",{type:"text",name:"phone",className:"form-control",id:"input-phone",placeholder:"Mobile No.",value:t.user.phone,onChange:this.formChange}),d.default.createElement("p",null,"Please use E.164 format for Twilio compatibility (e.g. +13472626329). ",d.default.createElement("a",{href:"https://www.twilio.com/docs/glossary/what-e164",target:"_blank"},"More Info")))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-status",className:"col-sm-4 control-label"},"Status"),d.default.createElement("div",{className:"col-sm-4"},d.default.createElement("select",{name:"status",className:"form-control",id:"input-status",value:t.user.status,onChange:this.formChange},d.default.createElement("option",{value:"1"},"ACTIVE"),d.default.createElement("option",{value:"0"},"INACTIVE")))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-notes",className:"col-sm-4 control-label"},"Notes"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("textarea",{className:"form-control",name:"notes",placeholder:"Notes",id:"input-notes",value:t.user.notes,onChange:this.formChange,rows:4}))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-pass",className:"col-sm-4 control-label"},"Password"),d.default.createElement("div",{className:"col-sm-8"},t.changePassword?d.default.createElement("input",{type:"password",name:"pass",className:"form-control",id:"input-pass",placeholder:"Password",value:t.user.pass,onChange:this.formChange}):d.default.createElement("a",{href:"javascript:;",onClick:function(){return e.setState(i({},e.state,{changePassword:!0}))}},"Change Password"))),t.changePassword?d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-pass_confirm",className:"col-sm-4 control-label"},"Confim Password"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("input",{type:"password",name:"pass_confirm",className:"form-control",id:"input-pass_confirm",placeholder:"Password",value:t.user.pass_confirm,onChange:this.formChange}))):""))),"technician"==t.user.type?d.default.createElement("div",{className:"col-sm-6"},d.default.createElement("div",{className:"box box-default"},d.default.createElement("div",{className:"box-header with-border "},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-tags"})," Work Info")),d.default.createElement("div",{className:"box-body",style:{padding:"10px 25px"}},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-hourly_rate",className:"col-sm-4 control-label",style:{textAlign:"left"}},"Hourly Rate"),d.default.createElement("div",{className:"col-sm-8"},d.default.createElement("div",{className:"input-group"},d.default.createElement("div",{className:"input-group-addon"},d.default.createElement("i",{className:"fa fa-dollar"})),d.default.createElement("input",{type:"text",name:"hourly_rate",className:"form-control",id:"input-hourly_rate",placeholder:"0.00",value:t.user.hourly_rate,onChange:this.formChange})))),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"input-categories",className:"col-sm-12 control-label",style:{textAlign:"left"}},"Categories"),d.default.createElement("div",{className:"col-sm-12"},d.default.createElement(S.default,{id:"categories",className:"form-control",data:a.filterParams.categories&&a.filterParams.categories.length?b.default.map(a.filterParams.categories,function(e){return{id:e.id,text:e.name}}):[],multiple:!0,onSelect:function(t){return e.assignCategory(t)},onUnselect:function(t){return e.assignCategory(t)},value:t.user.categories&&t.user.categories.length?b.default.map(t.user.categories,function(e){return e.id}):[],name:"category_ids",options:{placeholder:"Select Categories"}}))))),d.default.createElement("div",{className:"box box-default"},d.default.createElement("div",{className:"box-header with-border "},d.default.createElement("h3",{className:"box-title"},d.default.createElement("i",{className:"fa fa-map-pin"})," Assign Locations")),d.default.createElement("div",{className:"box-body",style:{padding:"10px 25px"}},"technician"==t.user.type?d.default.createElement("div",null,t.user.locations&&t.user.locations.length?t.user.locations.map(function(t,a){if(t.edit)return d.default.createElement("div",{key:a,className:"user-location",style:{padding:"10px 0",borderBottom:"1px solid #cccccc",marginBottom:15}},d.default.createElement("div",{className:"user-location-top",style:{padding:"8px 0"}},d.default.createElement("div",{className:"pull-left"},d.default.createElement("div",{style:{width:"160px"}},d.default.createElement("select",{className:"form-control",value:t.id,onChange:function(t){return e.locationFormUpdate(t,a)},name:"id"},d.default.createElement("option",{value:""},"-Select Location-"),l&&l.length?l.map(function(e,t){return d.default.createElement("option",{key:t,value:e.id},e.city,", ",e.state)}):null))),d.default.createElement("div",{className:"pull-right text-right"},d.default.createElement("button",{type:"button",className:"btn btn-flat btn-default btn-sm",title:"Close",onClick:function(t){return e.locationAction(t,a,"close")}},d.default.createElement("i",{className:"fa fa-times"})),""),d.default.createElement("div",{className:"clearfix"})),d.default.createElement("div",{className:"user-location-form"},d.default.createElement("div",{className:"form-group"},d.default.createElement("div",{className:"col-sm-12"},d.default.createElement("textarea",{name:"address_street",className:"form-control",id:"input-address_street",placeholder:"Street Address...",value:t.address_street,onChange:function(t){return e.locationFormUpdate(t,a)},rows:2}))),d.default.createElement("div",{className:"form-group"},d.default.createElement("div",{className:"col-sm-5"},d.default.createElement("input",{type:"text",name:"address_city",className:"form-control",id:"input-address_city",placeholder:"City...",value:t.address_city,onChange:function(t){return e.locationFormUpdate(t,a)}})),d.default.createElement("div",{className:"col-sm-3"},d.default.createElement("input",{type:"text",name:"address_zip",className:"form-control",id:"input-address_zip",placeholder:"ZIP...",value:t.address_zip,onChange:function(t){return e.locationFormUpdate(t,a)}})))));var n=[];return t.address_street&&n.push(t.address_street),t.address_city&&n.push(t.address_city),t.address_zip&&n.push(t.address_zip),d.default.createElement("div",{key:a,className:"user-location",style:{padding:"10px 0",borderBottom:"1px solid #cccccc",marginBottom:15}},d.default.createElement("div",{className:"user-location-top",style:{padding:"8px 0"}},d.default.createElement("div",{className:"pull-left"},d.default.createElement("b",null,t.location_name)),d.default.createElement("div",{className:"pull-right text-right"},d.default.createElement("button",{type:"button",className:"btn btn-flat btn-default btn-sm",title:"Edit",onClick:function(t){return e.locationAction(t,a,"edit")}},d.default.createElement("i",{className:"fa fa-pencil"})," Edit"),"",d.default.createElement("button",{type:"button",className:"btn btn-flat btn-default btn-sm",title:"Remove",onClick:function(t){return e.locationAction(t,a,"remove")}},d.default.createElement("i",{className:"fa fa-trash"})),""),d.default.createElement("div",{className:"clearfix"})),d.default.createElement("div",{className:"user-location-form"},n.length?d.default.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query="+n.join(", ")+", "+t.location_name,target:"_blank"},n.join(", ")):d.default.createElement("span",{style:{color:"#aaa"}},"No address found. Please specify.")))}):"No location added."):null,d.default.createElement("button",{className:"btn btn-primary btn-sm btn-flat",onClick:function(t){return e.addLocation(t)}},d.default.createElement("i",{className:"fa fa-map-pin"})," Add")))):null))))}return d.default.createElement(P.default,null)}},{key:"componentWillMount",value:function(){y.allowed(["admin","dispatcher"])&&_.getUserDetails(this.props.params.id),y.setPage("users")}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){y.allowed(["admin","dispatcher"])&&JSON.stringify(this.props)!==JSON.stringify(e)&&e.user&&"new"!=e.params.id&&this.setState(i({},this.state,{user:e.user,changePassword:!1}))}},{key:"componentWillUnmount",value:function(){_.clearUser()}}]),t}(d.default.Component),T=(0,p.connect)(O)(x);t.default=T},329:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(13),f=(l(d),a(11)),m=a(4),p=a(5),h=(l(p),a(1)),b=(l(h),a(6)),E=(n(b),a(7)),v=n(E),g=a(27),y=n(g),N=a(33),_=n(N),w=a(28),S=l(w),C=a(331),P=l(C),O=a(26),x=l(O),T=function(e){return{session_key:e.appdata.session_key,user:e.appdata.user,users:e.users.users,filters:e.users.filters,filtersDefault:e.users.filtersDefault,filterParams:e.users.filterParams,page:e.users.page,sort:e.users.sort,path:e.routing.locationBeforeTransitions.pathname}},k=function(e){return{setFilters:function(t,a){return e(_.setFilters(t,a))},setSort:function(t,a){return e(_.setSort(t,a))},setPage:function(t,a){return e(_.setPage(t,a))}}},A=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getList=a.getList.bind(a),a.tabFilter=a.tabFilter.bind(a),a}return o(t,e),i(t,[{key:"getList",value:function(e,t){var a=e?v.getStore("users")[e]:v.getStore("users"),n=a.filters,l=a.sort,r=a.page;y.getList(n,!0,l,r,t)}},{key:"tabFilter",value:function(e,t){var a=this.props,n=t?a[t].filters:a.filters;n.type=e||v.getStore("users").filters.type,a.setFilters(n,t),this.getList(t)}},{key:"render",value:function(){if(v.allowed(["admin","dispatcher"])){var e=(this.state,this.props);return u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(m.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(m.Link,{to:Config.root+"users/",className:"active"},"Users")))),u.default.createElement("section",{className:"content-header"},u.default.createElement("div",{className:"pull-left"},u.default.createElement("h1",{style:{margin:"0"}},"Manage Users")),u.default.createElement("div",{className:"pull-right box-tools"},v.allowed(["admin"])?u.default.createElement(m.Link,{to:Config.root+"users/new/",className:"btn btn-flat btn-sm btn-primary pull-left",style:{marginLeft:"10px"}},u.default.createElement("i",{className:"fa fa-plus"})," Add"):null),u.default.createElement("div",{style:{clear:"both"}})),u.default.createElement("section",{className:"content"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-12"},u.default.createElement("div",{className:"nav-tabs-custom"},u.default.createElement("ul",{className:"nav nav-tabs"},v.allowed(["admin"])?u.default.createElement("li",{className:e.filters&&"admin"==e.filters.type?"active":""},u.default.createElement(m.Link,{to:Config.root+"users/admins/"},"Admins")):null,u.default.createElement("li",{className:"pull-right"},u.default.createElement(x.default,{page:e.page,setPage:e.setPage,getList:this.getList}))),u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"tab-pane active",id:"tab_1"},u.default.createElement(P.default,{users:e.users,filterParams:e.filterParams,filters:e.filters,setFilters:e.setFilters,sort:e.sort,setSort:e.setSort,page:e.page,setPage:e.setPage,getList:this.getList}))))))))}return u.default.createElement(S.default,null)}},{key:"componentWillMount",value:function(){v.allowed(["admin","dispatcher"])&&this.tabFilter(this.props.route.tab),v.setPage("users",!0)}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props)!=JSON.stringify(e)&&v.allowed(["admin","dispatcher"])&&this.props.route.tab!==e.route.tab&&this.tabFilter(e.route.tab)}}]),t}(u.default.Component),j=(0,f.connect)(T,k)(A);t.default=j},330:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(13),f=l(d),m=a(11),p=a(4),h=a(5),b=l(h),E=a(1),v=(l(E),a(33)),g=(n(v),a(27)),y=n(g),N=a(7),_=n(N),w=a(6),S=n(w),C=a(341),P=(l(C),a(112)),O=l(P),x=function(e){return{user:e.users.user,userDefault:e.users.userDefault}},T=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={search:"",user:a.props.user||b.default.cloneDeep(a.props.userDefault)},a.formChange=a.formChange.bind(a),a.updateProfile=a.updateProfile.bind(a),a.updatePassword=a.updatePassword.bind(a),a}return o(t,e),i(t,[{key:"formChange",value:function(e){var t=this.state,a=e.target.value;t.user[e.target.name]=a,this.setState(t)}},{key:"updateProfile",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t={id:this.state.user.id,name_first:f.default.findDOMNode(this.refs.name_first).value.trim(),name_last:f.default.findDOMNode(this.refs.name_last).value.trim(),email:f.default.findDOMNode(this.refs.email).value.trim()};y.updateUser("profile",t)}},{key:"updatePassword",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t={id:this.state.user.id,password:f.default.findDOMNode(this.refs.password).value.trim(),password_confirm:f.default.findDOMNode(this.refs.password_confirm).value.trim()};""==t.id||null==t.id||""==t.password||t.password!==t.password_confirm?alert("ERROR: Invalid new password."):(y.updateUser("password",t),f.default.findDOMNode(this.refs.password).value="",f.default.findDOMNode(this.refs.password_confirm).value="")}},{key:"render",value:function(){var e=this,t=this.props,a=(this.state,this.state.user);return u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:_.is("technician")?"container":""},_.allowed(["admin","dispatcher"])?u.default.createElement("div",{className:"content-top"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(p.Link,{to:Config.root,className:""},"Home")),u.default.createElement("li",null,u.default.createElement(p.Link,{to:Config.root+"profile/",className:"active"},"Profile")))):null,u.default.createElement("section",{className:"content-header"},u.default.createElement("h1",null,a.name_first+" "+a.name_last)),u.default.createElement("section",{className:"content"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-md-6"},u.default.createElement("div",{className:"nav-tabs-custom"},u.default.createElement("ul",{className:"nav nav-tabs"},u.default.createElement("li",{className:""==t.route.tab?"active":""},u.default.createElement(p.Link,{to:Config.root+"profile/"},"Profile")),u.default.createElement("li",{className:"availability"==t.route.tab?"active":""},u.default.createElement(p.Link,{to:Config.root+"profile/availability/"},"Availability")),u.default.createElement("li",{className:"password"==t.route.tab?"active":""},u.default.createElement(p.Link,{to:Config.root+"profile/password/"},"Password")),u.default.createElement("li",{className:"work-info"==t.route.tab?"active":""},u.default.createElement(p.Link,{to:Config.root+"profile/work-info/"},"Work Info"))),u.default.createElement("div",{className:"tab-content"},t.route.tab?null:u.default.createElement("div",{className:"tab-pane active ",id:"profile"},u.default.createElement("form",{className:"form-horizontal"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"inputNameFirst",className:"col-sm-3 control-label"},"First Name"),u.default.createElement("div",{className:"col-sm-9"},u.default.createElement("input",{type:"text",className:"form-control",id:"inputNameFirst",placeholder:"First Name",ref:"name_first",value:a.name_first,onChange:function(t){return e.formChange(t)},name:"name_first"}))),u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"inputNameLast",className:"col-sm-3 control-label"},"Last Name"),u.default.createElement("div",{className:"col-sm-9"},u.default.createElement("input",{type:"text",className:"form-control",id:"inputNameLast",placeholder:"Last Name",ref:"name_last",value:a.name_last,onChange:function(t){return e.formChange(t)},name:"name_last"}))),u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"inputEmail",className:"col-sm-3 control-label"},"Email"),u.default.createElement("div",{className:"col-sm-9"},u.default.createElement("input",{type:"text",className:"form-control",id:"inputEmail",placeholder:"Email",ref:"email",value:a.email,onChange:function(t){return e.formChange(t)},name:"email"}))),u.default.createElement("div",{className:"form-group"},u.default.createElement("div",{className:"col-sm-offset-3 col-sm-9"},u.default.createElement("button",{type:"submit",className:"btn btn-danger",onClick:this.updateProfile},"Update"))))),"password"==t.route.tab?u.default.createElement("div",{className:"tab-pane active",id:"password"},u.default.createElement("p",null,"Change your password here."),u.default.createElement("form",{className:"form-horizontal",id:"password-form"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"inputPassword",className:"col-sm-3 control-label"},"New Password"),u.default.createElement("div",{className:"col-sm-9"},u.default.createElement("input",{type:"password",className:"form-control",id:"inputPassword",placeholder:"Enter New Password",ref:"password"}))),u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"inputPasswordConfirm",className:"col-sm-3 control-label"},"Confirm Password"),u.default.createElement("div",{className:"col-sm-9"},u.default.createElement("input",{type:"password",className:"form-control",id:"inputPasswordConfirm",placeholder:"Confirm New Password",ref:"password_confirm"}))),u.default.createElement("div",{className:"form-group"},u.default.createElement("div",{className:"col-sm-offset-3 col-sm-9"},u.default.createElement("button",{type:"submit",className:"btn btn-danger",onClick:this.updatePassword},"Update"))))):null,"work-info"==t.route.tab?u.default.createElement("div",{className:"tab-pane active",id:"work-info"},"technician"==a.type?u.default.createElement("div",null,u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Starting Rate: ")),u.default.createElement("div",{className:"col-xs-8"},"$",(a.hourly_rate_start||0).toFloat().accounting())),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-4"},u.default.createElement("b",null,"Current Rate: ")),u.default.createElement("div",{className:"col-xs-8"},"$",(a.hourly_rate||0).toFloat().accounting(),"","0000-00-00 00:00:00"!=a.last_raise_date?"(since "+S.tz(a.last_raise_date).format("MMM D, YYYY")+")":null)),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("b",null,"Projects: ")),u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("ul",null,u.default.createElement("li",null,a.num_accepted," Accepted"),u.default.createElement("li",null,a.num_dispatched," Dispatched"),u.default.createElement("li",null,a.num_completed," Completed")))),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("b",null,"Categories: ")),u.default.createElement("div",{className:"col-xs-12"},a.categories&&a.categories.length?a.categories.map(function(e,t){return u.default.createElement("a",{key:t,to:"javascript:;",className:"label label-primary label-sm",style:{float:"left",margin:"0 7px 7px 0",fontSize:13,fontWeight:"normal"}},e.name)}):"No categories found.")),u.default.createElement("hr",{className:"hr-narrow"}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("b",null,"Locations: ")),u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("ul",null,a.locations&&a.locations.length?a.locations.map(function(e,t){var a=S.formatAddressWithStreet(e.address_street,e.address_city,e.address_zip,e.state),n="https://www.google.com/maps/search/?api=1&query="+a;return u.default.createElement("li",{key:t},e.location_name," (",e.num_projects," projects)",u.default.createElement("br",null),"Address: ",a.length?u.default.createElement("a",{href:n,target:"_blank"},a):u.default.createElement("span",{className:"text-red"},"NO ADDRESS"))}):"No locations found."))),u.default.createElement("hr",{className:"hr-narrow"})):null):null,"availability"==t.route.tab?u.default.createElement(O.default,{user_id:a.id,user:a}):null)))))))}},{key:"componentWillMount",value:function(){_.setPage("users"),y.getUserDetails()}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props)!=JSON.stringify(e)&&(this.state.user=e.user,this.setState(this.state))}}]),t}(u.default.Component),k=(0,m.connect)(x)(T);t.default=k},331:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(2),f=l(d),m=a(4),p=a(6),h=n(p),b=a(27),E=(n(b),a(69)),v=l(E),g=a(67),y=l(g),N=a(68),w=l(N),S=a(26),C=l(S),P=a(1),O=l(P),x=function(e){function t(e){s(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selectAll:!1,selecting:!1,users:e.users||[],columns:e.columns||["name","email","status","location_name","notes"]},a.filterChange=a.filterChange.bind(a),a.sortChange=a.sortChange.bind(a),a.toggleSelect=a.toggleSelect.bind(a),a.handleClick=a.handleClick.bind(a),a.selectAll=a.selectAll.bind(a),a.deleteSelected=a.deleteSelected.bind(a),a}return i(t,e),u(t,[{key:"filterChange",value:function(e){var t=this.props,a=t.component,n=t.filters,l=e.target,r=l.name,s=l.value;return n[r]=s,t.setFilters(n,a),!(s.length>0&&["name","email"].inArray(r)&&s.length<3)&&void t.getList(a)}},{key:"sortChange",value:function(e,t){var a=this.props,n=a.component,l=a.sort;l.by==e?l.dir="asc"==l.dir?"desc":"asc":l={by:e,dir:t||"asc"},a.setSort(l,n),a.getList(n)}},{key:"toggleSelect",value:function(e){var t=this.state;e.preventDefault(),e.stopPropagation(),t.selectAll=!1,t.users=t.users.map(function(e,a){return c({},e,{selected:t.selectAll})}),t.selecting=!t.selecting,this.setState(t)}},{key:"handleClick",value:function(e,t){var a=this.state;return a.selecting?(a.users[t]=c({},a.users[t],{selected:!e.selected}),void this.setState(a)):(h.push("users/"+e.id+"/"),!1)}},{key:"selectAll",value:function(){var e=this.state;e.selectAll=!e.selectAll,e.users=e.users.map(function(t,a){return c({},t,{selected:e.selectAll})}),this.setState(e)}},{key:"deleteSelected",value:function(){var e=this.state,t=[];e.users.map(function(e,a){e.selected&&t.push(e.id)}),t.length&&confirm("Are you sure you want to delete the selected items?\n"+t.join(", "))&&(alert("Deleted"),this.toggleSelect())}},{key:"render",value:function(){var e=this,t=this.props,a=this.state,n=this.state.users,l=_.filter(n,function(e){return e.status==-1});n=_.filter(n,function(e){return e.status>-1});var r=a.columns.indexOf("location_name")<0?"hide":"show",s=(a.columns.indexOf("tech_name")<0?"hide":"show",
a.columns.indexOf("status")<0?"hide":"show",t.filters||{}),o=t.filterParams||{};return console.log("NEW USERS ",l),f.default.createElement("div",{className:"users-table"},f.default.createElement("div",{className:"row table-row table-header-row "},f.default.createElement("div",{className:"col-sm-3 hidden-xs",onClick:function(t){return e.sortChange("name")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"name"}),f.default.createElement("b",null,"Name / Contact")),f.default.createElement("div",{className:"col-sm-1 hidden-xs",onClick:function(t){return e.sortChange("status")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"status"}),f.default.createElement("b",null,"Status")),f.default.createElement("div",{className:"col-sm-1 hidden-xs",onClick:function(t){return e.sortChange("hourly_rate")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"hourly_rate"}),f.default.createElement("b",null,"Rate")),"technician"==s.type?f.default.createElement("div",{className:"col-sm-1 hidden-xs",onClick:function(t){return e.sortChange("last_completed_date")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"last_completed_date"}),f.default.createElement("b",null,"Completed")):null,f.default.createElement("div",{className:"col-sm-1 hidden-xs text-center",onClick:function(t){return e.sortChange("num_projects")},style:{cursor:"pointer"}},f.default.createElement(w.default,{sort:t.sort,column:"num_projects"}),f.default.createElement("b",null,"Projects")),"show"==r?f.default.createElement("div",{className:"col-sm-2 hidden-xs "+(t.showLocations===!1?"hide":"")},f.default.createElement("b",null,"Locations")):null,f.default.createElement("div",{className:("technician"==s.type?"col-sm-3 ":"col-sm-4 ")+" hidden-xs"},f.default.createElement("b",null,"Categories")," / ",f.default.createElement("b",null,"Notes")),f.default.createElement("div",{className:"clearfix"})),t.hideFilters||a.selecting?null:f.default.createElement(v.default,{className:"row table-row filter-row bg-gray"},f.default.createElement("div",{className:"col-sm-3"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Name / Contact: ")),f.default.createElement("input",{type:"text",className:"form-control input-sm",value:s.name,onChange:this.filterChange,name:"name",placeholder:"Name"})),f.default.createElement("div",{className:"col-sm-1 "},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Status: ")),f.default.createElement("select",{className:"form-control users-select-type input-sm",onChange:this.filterChange,name:"status"},f.default.createElement("option",{value:""},"All"),f.default.createElement("option",{value:"1"},"ACTIVE"),f.default.createElement("option",{value:"0"},"INACTIVE"))),f.default.createElement("div",{className:"col-sm-1"}),f.default.createElement("div",{className:"col-sm-1 "}),"show"==r?f.default.createElement("div",{className:"col-sm-2 "+(t.showLocations===!1?"hide":"")},f.default.createElement("p",{className:"visible-xs filter-label "},f.default.createElement("b",null,"Locations: ")),f.default.createElement("select",{className:"form-control users-select-location input-sm",onChange:this.filterChange,name:"location_id"},f.default.createElement("option",{value:""},"All"),o.locations&&o.locations.length?o.locations.map(function(e,t){return f.default.createElement("option",{key:t,value:e.id},e.city,", ",e.state)}):null)):null,f.default.createElement("div",{className:"col-sm-4"},f.default.createElement("p",{className:"visible-xs filter-label"},f.default.createElement("b",null,"Categories: ")),f.default.createElement("div",{className:"col-sm-8"},f.default.createElement("select",{className:"form-control input-sm",onChange:this.filterChange,name:"category_id"},f.default.createElement("option",{value:""},"All"),o.categories&&o.categories.length?o.categories.map(function(e,t){return f.default.createElement("option",{key:t,value:e.id},e.name)}):null))),f.default.createElement("div",{className:"clearfix"})),a.selecting?f.default.createElement("div",{className:"row table-row bg-gray text-center",style:{padding:10}},f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-default pull-right",onClick:function(){return e.selectAll()}},a.selectAll?"Unselect":"Select"," All"),f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-default pull-left",onClick:function(){return e.setState(c({},e.state,{selecting:!1,users:t.users}))}},"Cancel"),f.default.createElement("button",{type:"button",className:"btn btn-sm btn-flat btn-danger",onClick:function(){return e.deleteSelected()}},f.default.createElement("i",{className:"fa fa-trash"})," Remove")):null,l&&l.length>0?l.map(function(n,l){var o=_.map(n.locations,function(e){return e.city}).join(", ");return f.default.createElement("div",{className:"row table-row table-body-row ",key:l,onClick:function(){return e.handleClick(n,l)},style:{cursor:"pointer",position:"relative"}},f.default.createElement("div",{className:"col-sm-3"},f.default.createElement(m.Link,{to:Config.root+"users/"+n.id+"/",onClick:function(e){e.stopPropagation()}},f.default.createElement("b",null,n.name)),f.default.createElement("br",null),f.default.createElement("span",{className:"visible-xs",style:{color:"#999"}},0==n.status?f.default.createElement("span",null,"INACTIVE  ",f.default.createElement("br",null)," "):null," "),f.default.createElement("span",{className:""},n.email,f.default.createElement("br",null)),f.default.createElement("span",{className:""},n.phone)),f.default.createElement("div",{className:"col-sm-1 hidden-xs"},n.status==-1?f.default.createElement("span",{className:"label label-xs label-warning"},"NEW"):"",0==n.status?f.default.createElement("span",{className:"label label-xs label-default"},"INACTIVE"):"",1==n.status?f.default.createElement("span",{className:"label label-xs label-success"},"ACTIVE"):""),f.default.createElement("div",{className:"col-sm-1 col-xs-12"},"$",(n.hourly_rate||0).toFloat().accounting()),s.type&&"technician"!=s.type?null:f.default.createElement("div",{className:"col-sm-1 hidden-xs text-center"}),f.default.createElement("div",{className:"col-sm-1 hidden-xs text-center"},n.num_projects),"show"==r?f.default.createElement("div",{className:"col-sm-2 hidden-xs "+(t.showLocations===!1?"hide":""),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:o},n.locations?n.locations.length:0," - ",o):null,f.default.createElement("div",{className:(s.type&&"technician"!=s.type?"col-sm-4 ":"col-sm-3 ")+" hidden-xs"},n.categories&&n.categories.length?n.categories.map(function(e,t){return f.default.createElement("span",{key:t,className:"label label-primary label-sm",style:{float:"left",margin:"0 3px 5px 0",fontSize:13,fontWeight:"normal"},title:e.name},e.code)}):null,n.notes),f.default.createElement("span",{style:{position:"absolute",top:"50%",right:15,marginTop:"-10px"}},a.selecting?f.default.createElement("input",{type:"checkbox",checked:n.selected}):f.default.createElement(m.Link,{to:Config.root+"users/"+n.id+"/",title:"Open"},f.default.createElement("i",{className:"fa  fa-chevron-right"}))),f.default.createElement("div",{className:"clearfix"}))}):null,n&&n.length>0?n.map(function(n,l){var o=_.map(n.locations,function(e){return e.city}).join(", ");return f.default.createElement("div",{className:"row table-row table-body-row ",key:l,onClick:function(){return e.handleClick(n,l)},style:{cursor:"pointer",position:"relative"}},f.default.createElement("div",{className:"col-sm-3"},f.default.createElement(m.Link,{to:Config.root+"users/"+n.id+"/"},f.default.createElement("b",null,n.name)),f.default.createElement("br",null),f.default.createElement("span",{className:"visible-xs",style:{color:"#999"}},0==n.status?f.default.createElement("span",null,"INACTIVE  ",f.default.createElement("br",null)," "):null," "),f.default.createElement("span",{className:""},n.email,f.default.createElement("br",null)),f.default.createElement("span",{className:""},n.phone)),f.default.createElement("div",{className:"col-sm-1 hidden-xs"},0==n.status?f.default.createElement("span",{className:"label label-xs label-default"},"INACTIVE"):"",1==n.status?f.default.createElement("span",{className:"label label-xs label-success"},"ACTIVE"):""),f.default.createElement("div",{className:"col-sm-1 col-xs-12"},"$",(n.hourly_rate||0).toFloat().accounting()),s.type&&"technician"!=s.type?null:f.default.createElement("div",{className:"col-sm-1 hidden-xs text-center"},n.last_completed_date&&!["","0000-00-00","0000-00-00 00:00:00"].includes(n.last_completed_date)?(0,O.default)(n.last_completed_date).format("YYYY-MM-DD"):""),f.default.createElement("div",{className:"col-sm-1 hidden-xs text-center"},n.num_projects),"show"==r?f.default.createElement("div",{className:"col-sm-2 hidden-xs "+(t.showLocations===!1?"hide":""),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:o},n.locations?n.locations.length:0," - ",o):null,f.default.createElement("div",{className:(s.type&&"technician"!=s.type?"col-sm-4 ":"col-sm-3 ")+" hidden-xs"},n.categories&&n.categories.length?n.categories.map(function(e,t){return f.default.createElement("span",{key:t,className:"label label-primary label-sm",style:{float:"left",margin:"0 3px 5px 0",fontSize:13,fontWeight:"normal"},title:e.name},e.code)}):null,n.notes),f.default.createElement("span",{style:{position:"absolute",top:"50%",right:15,marginTop:"-10px"}},a.selecting?f.default.createElement("input",{type:"checkbox",checked:n.selected}):f.default.createElement(m.Link,{to:Config.root+"users/"+n.id+"/",title:"Open"},f.default.createElement("i",{className:"fa  fa-chevron-right"}))),f.default.createElement("div",{className:"clearfix"}))}):f.default.createElement("div",{className:"row table-row "},f.default.createElement("div",{className:"col-sm-12"},"No users found."),f.default.createElement("div",{className:"clearfix"})),t.users&&t.users.length?f.default.createElement("div",{className:"row table-row bg-gray"},f.default.createElement("div",{className:"col-sm-12"},f.default.createElement("div",{className:"pull-right"},f.default.createElement(y.default,{page:t.page,setPage:t.setPage,getList:t.getList,className:"btn btn-primary btn-md btn-flat visible-xs",component:t.component}),f.default.createElement(C.default,{page:t.page,setPage:t.setPage,getList:t.getList,className:"hidden-xs",component:t.component})),f.default.createElement("strong",null,t.users.length," of ",t.page.total," items"))):null)}},{key:"componentDidUpdate",value:function(){var e=this,t=this;$(function(){$("div.table-body-row").length&&!e.state.selecting&&($("div.table-body-row").hammer().off("press"),$("div.table-body-row").hammer().bind("press",function(e){return t.toggleSelect(e)}))})}},{key:"componentWillReceiveProps",value:function(e){var t=this.state;t.selecting||JSON.stringify(this.props)==JSON.stringify(e)||e.users&&(t.users=[].concat(r(e.users)),this.setState(t))}},{key:"componentWillUnmount",value:function(){$("div.table-body-row").length&&$("div.table-body-row").hammer().off("press")}}]),t}(f.default.Component);t.default=x},332:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=a(2),r=n(l),s=a(13),o=a(11),i=a(4),c=a(65),u=a(19),d=n(u),f=a(333),m=n(f),p=(0,c.syncHistoryWithStore)(i.browserHistory,d.default);(0,s.render)(r.default.createElement(o.Provider,{store:d.default},r.default.createElement(i.Router,{history:p,routes:m.default})),document.getElementById("app"))},333:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),r=n(l),s=a(4),o=a(309),i=n(o),c=a(113),u=n(c),d=a(28),f=n(d),m=a(311),p=n(m),h=a(330),b=n(h),E=a(329),v=n(E),g=a(328),y=n(g),N=a(327),_=n(N),w=a(319),S=n(w),C=a(318),P=n(C),O=a(326),x=n(O),T=a(325),k=n(T),A=a(323),j=n(A),M=a(322),L=n(M),R=a(321),D=n(R),I=a(315),U=n(I),F=a(314),G=n(F),H=a(313),W=n(H),B=a(334),Y=n(B);t.default=r.default.createElement(s.Route,{path:Config.root,component:i.default},r.default.createElement(s.IndexRoute,{component:p.default}),r.default.createElement(s.Route,{path:"reset-password/",component:u.default}),r.default.createElement(s.Route,{path:"verify-reset-password/:reset_key/",component:u.default}),r.default.createElement(s.Route,{path:"signup/",component:u.default,tab:"signup"}),r.default.createElement(s.Route,{path:"signup/skills/",component:u.default,tab:"signup"}),r.default.createElement(s.Route,{path:"signup/success/",component:u.default,tab:"signup-success"}),"// Component: Users",r.default.createElement(s.Route,{path:"users/",component:v.default,tab:"technician"}),r.default.createElement(s.Route,{path:"users/technicians/",component:v.default,tab:"technician"}),r.default.createElement(s.Route,{path:"users/distributors/",component:v.default,tab:"distributor"}),r.default.createElement(s.Route,{path:"users/dispatchers/",component:v.default,tab:"dispatcher"}),r.default.createElement(s.Route,{path:"users/admins/",component:v.default,tab:"admin"}),r.default.createElement(s.Route,{path:"users/new/",component:y.default}),r.default.createElement(s.Route,{path:"users/new/:type/",component:y.default}),"// Component: Users Profile",r.default.createElement(s.Route,{path:"profile/",component:b.default,tab:""}),r.default.createElement(s.Route,{path:"profile/password/",component:b.default,tab:"password"}),r.default.createElement(s.Route,{path:"profile/work-info/",component:b.default,tab:"work-info"}),r.default.createElement(s.Route,{path:"profile/availability/",component:b.default,tab:"availability"}),"// UserDetails",r.default.createElement(s.Route,{path:"users/:id/",component:_.default,tab:""}),r.default.createElement(s.Route,{path:"users/:id/projects/",component:_.default,tab:"projects"}),r.default.createElement(s.Route,{path:"users/:id/locations/",component:_.default,tab:"locations"}),r.default.createElement(s.Route,{path:"users/:id/availability/",component:_.default,tab:"availability"}),r.default.createElement(s.Route,{path:"users/:id/logs/",component:_.default,tab:"logs"}),r.default.createElement(s.Route,{path:"users/:id/edit/",component:y.default}),"// Component: Settings",r.default.createElement(s.Route,{path:"settings/",component:x.default}),r.default.createElement(s.Route,{path:"settings/edit/",component:k.default}),"// Component: Projects",r.default.createElement(s.Route,{path:"projects/",component:j.default}),r.default.createElement(s.Route,{path:"projects/new/",component:L.default}),r.default.createElement(s.Route,{path:"projects/:id/",component:D.default}),r.default.createElement(s.Route,{path:"projects/:id/edit/",component:L.default}),"// Component: Issues",r.default.createElement(s.Route,{path:"issues/",component:U.default}),r.default.createElement(s.Route,{path:"issues/new/",component:G.default}),r.default.createElement(s.Route,{path:"issues/:id/",component:W.default}),r.default.createElement(s.Route,{path:"issues/:id/edit/",component:G.default}),"// Component: Logs",r.default.createElement(s.Route,{path:"logs/",component:P.default}),"// Component: Notifications",r.default.createElement(s.Route,{path:"notifications/",component:S.default}),"// Utility: ChangeLog",r.default.createElement(s.Route,{path:"changelog/",component:Y.default}),"// 404",r.default.createElement(s.Route,{path:"*",component:f.default}))},334:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(4),f=a(123),m=l(f),p=a(6),h=n(p),b=a(7),E=n(b),v=new m.default,g=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={changelog:""},a}return o(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("section",{className:"content",dangerouslySetInnerHTML:{__html:this.state.changelog}}))}},{key:"componentWillMount",value:function(){if(E.allowed(["admin","dispatcher"])){var e=this;h.post("changelog/",{},function(t){t&&t.success&&e.setState({changelog:v.render(t.changelog)})})}else d.browserHistory.push(Config.root+"notfound/")}}]),t}(u.default.Component);t.default=g},335:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(4),f=a(7),m=n(f),p=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("footer",{className:"main-footer"},u.default.createElement("div",{className:"pull-right hidden-xs"},m.allowed(["admin","dispatched"])?u.default.createElement(d.Link,{to:Config.root+"changelog/"},u.default.createElement("b",null,"Version")," ",Config.version):u.default.createElement("span",null,u.default.createElement("b",null,"Version")," ",Config.version)),u.default.createElement("strong",null,"Copyright  ",(new Date).getFullYear()," ",u.default.createElement(d.Link,{to:"https://powersiot.com/",target:"_blank"},"Powers IoT"),".")," All rights reserved.")}}]),t}(u.default.Component);t.default=p},336:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),u=l(c),d=a(11),f=a(4),m=a(5),p=l(m),h=a(1),b=(l(h),a(6)),E=n(b),v=a(7),g=n(v),y=a(45),N=n(y),_=function(e){return{appdata:e.appdata,properties:e.properties,unread:e.notifications.unread}},w=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={receivePayment:!1,screen:"xs"},a.toggle=a.toggle.bind(a),a}return o(t,e),i(t,[{key:"toggle",value:function(e,t,a){this.state,e&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e=this.state,t=this.props.appdata,a=this.props,n=0;return a.unread&&a.unread.length&&(n=p.default.filter(a.unread,{date_read:"0000-00-00 00:00:00"}).length),u.default.createElement("header",{className:"main-header"},g.allowed(["admin","dispatcher"])?u.default.createElement(f.Link,{to:t.root,className:"logo hidden-xs"},u.default.createElement("span",{className:"logo-mini"},u.default.createElement("img",{src:Config.assets+"icons/favicon.png",style:{height:40}})),u.default.createElement("span",{className:"logo-lg"},"Jervis")):null,u.default.createElement("nav",{className:"navbar navbar-static-top"},t.connected?null:u.default.createElement("div",{style:{display:"block",width:"400px",position:"absolute",top:0,left:"50%",marginLeft:"-200px",textAlign:"center",zIndex:1e4}},u.default.createElement("div",{className:"alert alert-danger alert-dismissible",style:{boxShadow:"rgba(0,0,0,0.5) 0px 0px 10px"}},u.default.createElement("i",{className:"fa fa-refresh fa-spin"})," Could not connect to server. Retrying...")),u.default.createElement("div",{className:g.is("technician")?"container":""},g.allowed(["admin","dispatcher"])?u.default.createElement("a",{href:"#",className:"sidebar-toggle","data-toggle":"offcanvas",role:"button"},u.default.createElement("span",{className:"sr-only"},"Toggle navigation")):null,g.allowed(["admin","dispatcher"])?u.default.createElement("div",{className:"visible-xs float-left"},u.default.createElement(f.Link,{to:t.root,className:"navbar-brand",style:{paddingLeft:"2px"}},u.default.createElement("span",{className:"logo-lg"},u.default.createElement("b",null,"Tech"),"Scheduling"))):null,g.allowed(["technician"])?u.default.createElement("div",{className:"navbar-header"},u.default.createElement(f.Link,{to:t.root,className:"navbar-brand"},u.default.createElement("b",null,"Tech"),"Scheduling")):null,u.default.createElement("div",{className:"navbar-custom-menu"},u.default.createElement("ul",{className:"nav navbar-nav"},u.default.createElement("li",{className:"dropdown notifications-menu"},u.default.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},u.default.createElement("i",{className:"fa fa-bell-o"}),n>0?u.default.createElement("span",{className:"label label-warning"},n>99?"99+":n):null),u.default.createElement("ul",{className:"dropdown-menu"},u.default.createElement("li",{className:"header"},"You have ",n," notifications"),u.default.createElement("li",null,u.default.createElement("div",{className:"slimScrollDiv",style:{position:"relative",overflow:"auto",width:"auto",height:"200px"}},u.default.createElement("ul",{className:"menu",style:{overflow:"auto",width:"100%",height:"auto"}},a.unread&&a.unread.length?a.unread.map(function(e,t){var a=Config.root+e.component+"/";a+=e.item_id&&0!=e.item_id?e.item_id+"/":"";var n="0000-00-00 00:00:00"==e.date_read?"notification-unread":"";return u.default.createElement("li",{key:t,className:"notification-item "+n},u.default.createElement(f.Link,{to:a,style:{color:"#666"},onClick:function(t){return N.read(e.id,t)}},u.default.createElement("span",null,"settings"==e.component?u.default.createElement("i",{className:"fa fa-gear text-red"}):null,"projects"==e.component?u.default.createElement("i",{className:"fa fa-book text-green"}):null,"users"==e.component?u.default.createElement("i",{className:"fa fa-user text-aqua"}):null,"locations"==e.component?u.default.createElement("i",{className:"fa fa-map-pin text-aqua"}):null)," ",u.default.createElement("span",{className:"message",dangerouslySetInnerHTML:{__html:e.message}}),"  ",u.default.createElement("br",{className:"visible-xs"}),u.default.createElement("span",{style:{color:"#aaa"}},u.default.createElement("small",null,E.tz(e.date_created).format("MMM D, YYYY, h:mm a")))))}):null),u.default.createElement("div",{className:"slimScrollBar",style:{background:"rgb(0, 0, 0)",width:"3px",position:"absolute",top:"0px",opacity:"0.4",display:"block",borderRadius:"7px",zIndex:"99",right:"1px"}}),u.default.createElement("div",{className:"slimScrollRail",style:{width:"3px",height:"100%",position:"absolute",top:"0px",display:"none",borderRadius:"7px",background:"rgb(51, 51, 51)",opacity:.2,zIndex:90,right:1}}))),u.default.createElement("li",{className:"footer"},u.default.createElement(f.Link,{to:Config.root+"notifications/",onClick:function(e){return N.readAll()}},"See All")))),u.default.createElement("li",{className:"dropdown user user-menu"},u.default.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},u.default.createElement("img",{src:Config.assets+"dist/img/user2-160x160.jpg",className:"user-image",alt:"User Image"}),u.default.createElement("span",{className:"hidden-xs"},t.user.name_first+" "+t.user.name_last)),u.default.createElement("ul",{className:"dropdown-menu"},u.default.createElement("li",{className:"user-header"},u.default.createElement("img",{src:Config.assets+"dist/img/user2-160x160.jpg",className:"img-circle",alt:"User Image"}),u.default.createElement("p",null," ",t.user.name_first+" "+t.user.name_last)),u.default.createElement("li",{className:"user-footer"},u.default.createElement("div",{className:"pull-left"},u.default.createElement(f.Link,{to:t.root+"profile/",className:"btn btn-default btn-flat"},"Profile")),u.default.createElement("div",{className:"pull-right"},u.default.createElement(f.Link,{to:t.root+"logout",onClick:g.logout,className:"btn btn-default btn-flat"},"Sign out"))))))),u.default.createElement("div",{className:"xs"==e.screen?"navbar-custom-menu":"pull-left "}))))}},{key:"componentDidMount",value:function(){var e=this,t=this.props;$(function(){$(document).on("click",".sidebar-toggle",function(e){$(".sidebar-collapse").length?window.localStorage.setItem(Config.name+"_sidebar_collapse","1"):window.localStorage.removeItem(Config.name+"_sidebar_collapse")}),window.localStorage.getItem(Config.name+"_sidebar_collapse")&&!$(".sidebar-collapse").length&&$(".sidebar-toggle").trigger("click"),$("body").hasClass("login-page")&&$("body").removeClass("login-page").attr("style","height: auto"),t.appdata.user&&g.allowed(["admin","dispatcher"])&&$("body").removeClass("layout-top-nav"),$.AdminLTE.layout.fix(),e.state.screen=AppHelpers.getScreen(),e.setState(e.state),$(window).resize(function(){AppHelpers.waitForFinalEvent(function(){e.state.screen=AppHelpers.getScreen(),e.setState(e.state)})})})}}]),t}(u.default.Component),S=(0,d.connect)(_)(w);t.default=S},337:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),c=n(i),u=function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={id:e.data&&e.data.id?e.data.id:"global-modal",className:e.data&&e.data.className?e.data.className:"modal fade"},a.modalEl=a.modalEl.bind(a),a.closeModal=a.closeModal.bind(a),a}return s(t,e),o(t,[{key:"modalEl",value:function(){return $("#"+this.state.id)}},{key:"closeModal",value:function(){this.modalEl().modal("hide")}},{key:"onModalClose",value:function(e){e&&e()}},{key:"render",value:function(){var e=this.props.ModalChild;return c.default.createElement("div",{id:this.state.id,className:this.state.className,tabIndex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel"},c.default.createElement(e,{data:this.props.data,main:this.props.main,closeModal:this.closeModal,onModalClose:this.onModalClose,afterModalClose:this.props.afterModalClose}))}},{key:"componentDidMount",value:function(){var e=this;$(function(){e.modalEl().modal(e.props.data.modalConfig||{}),e.modalEl().on("hidden.bs.modal",function(){e.onModalClose(),e.props.afterModalClose()})})}}]),t}(c.default.Component);t.default=u},338:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),r=n(l),s=a(13),o=(n(s),a(4),a(5)),i=n(o),c=a(1),u=(n(c),function(e){return r.default.createElement("div",{className:""},r.default.createElement("div",{className:"pull-left",style:{lineHeight:"18px",padding:"5px 10px",borderRight:"1px solid #ccc"}},r.default.createElement("select",{value:e.page.size,onChange:e.update,name:"size"},r.default.createElement("option",{value:"0"},"All"),r.default.createElement("option",{value:"10"},"10"),r.default.createElement("option",{value:"25"},"25"),r.default.createElement("option",{value:"50"},"50"),r.default.createElement("option",{value:"100"},"100"))),r.default.createElement("div",{className:"pull-left",style:{lineHeight:"18px",padding:"5px 10px"}},r.default.createElement("span",null,e.page.pages>1?r.default.createElement("select",{value:e.page.current,onChange:e.update,name:"current"},i.default.range(0,e.page.pages).map(function(t){return r.default.createElement("option",{value:t,key:t},t*e.page.size+1,"-",t==e.page.pages-1?e.page.total:(t+1)*e.page.size)})):r.default.createElement("span",null,r.default.createElement("b",null,0==e.page.total?0:"1-"+e.page.total))," of ",r.default.createElement("b",null,e.page.total.accounting().replace(".00","")))),r.default.createElement("ul",{className:"pagination pagination-flat pagination-sm no-margin pull-left",style:{}},r.default.createElement("li",{className:0==e.page.current||0==e.page.size?"disabled text-gray":"",onClick:e.prev},r.default.createElement("a",{href:"javascript:0;"},r.default.createElement("i",{className:"fa fa-chevron-left"}))),r.default.createElement("li",{className:e.page.current>=e.page.pages-1||0==e.page.size?"disabled text-gray":"",onClick:e.next},r.default.createElement("a",{href:"javascript:0;"},r.default.createElement("i",{className:"fa fa-chevron-right"})))))});t.default=u},339:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);
}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),c=n(i),u=a(11),d=a(4),f=a(5),m=(n(f),a(1)),p=(n(m),function(e){return{appdata:e.appdata}}),h="",b=function(e){return e==h?"active":""},E=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"render",value:function(){var e=(this.props,this.props.appdata),t=e.user;return h=e.page,c.default.createElement("aside",{className:"main-sidebar"},c.default.createElement("section",{className:"sidebar"},c.default.createElement("ul",{className:"sidebar-menu"},c.default.createElement("li",{className:"header"},"MAIN NAVIGATION"),"admin"==t.type?c.default.createElement("li",{className:b("")},c.default.createElement(d.Link,{to:e.root,title:"Dashboard"},c.default.createElement("i",{className:"fa fa-dashboard"})," ",c.default.createElement("span",null,"Dashboard"))):null,"admin"==t.type?c.default.createElement("li",{className:b("projects")},c.default.createElement(d.Link,{to:e.root+"projects/",title:"Manage Projects"},c.default.createElement("i",{className:"fa fa-book"})," ",c.default.createElement("span",null,"Projects"))):null,"admin"==t.type?c.default.createElement("li",{className:b("issues")},c.default.createElement(d.Link,{to:e.root+"issues/",title:"Manage Issues"},c.default.createElement("i",{className:"fa fa-tasks"})," ",c.default.createElement("span",null,"Issues"))):null,"admin"==t.type?c.default.createElement("li",{className:b("users")},c.default.createElement(d.Link,{to:e.root+"users/",title:"Manage Users"},c.default.createElement("i",{className:"fa fa-users"})," ",c.default.createElement("span",null,"Users"))):null,"admin"==t.type?c.default.createElement("li",{className:"header"},"ADMIN MENU"):null,"admin"==t.type?c.default.createElement("li",{className:"settings"==e.page?"active":""},c.default.createElement(d.Link,{to:e.root+"settings/",title:"Global Settings"},c.default.createElement("i",{className:"fa fa-gear"})," ",c.default.createElement("span",null,"Settings"))):null)))}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){$(function(){$(document).on("click",".sidebar-menu li a",function(e){$(window).width()<768&&$(".sidebar-toggle").trigger("click")}),$(document).on("click",".content-wrapper",function(e){$(window).width()<768&&$(".sidebar-open").length&&$(".sidebar-toggle").trigger("click")})})}}]),t}(c.default.Component),v=(0,u.connect)(p)(E);t.default=v},340:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),r=n(l),s=function(e){return r.default.createElement("div",{className:"overlay-wrapper"},r.default.createElement("div",{className:"overlay"},r.default.createElement("i",{className:"fa fa-refresh fa-spin"})))};t.default=s},341:function(e,t){"use strict";var a=[{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Standard Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PST",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-2,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old"},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"CUT",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Edinburgh, Lisbon, London",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Lisbon","Europe/London"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe"},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!0,text:"(UTC+02:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+03:00) Kaliningrad, Minsk",utc:["Europe/Kaliningrad","Europe/Minsk"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Russian Standard Time",abbr:"RST",offset:4,isdst:!1,text:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",utc:["Europe/Moscow","Europe/Samara","Europe/Simferopol","Europe/Volgograd"]},{value:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GST",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Pakistan Standard Time",abbr:"PST",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Katmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Astana",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Ekaterinburg Standard Time",abbr:"EST",offset:6,isdst:!1,text:"(UTC+06:00) Ekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:9,isdst:!1,text:"(UTC+09:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Tokyo Standard Time",abbr:"TST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:10,isdst:!1,text:"(UTC+10:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old"},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}];e.exports=a},360:function(e,t){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},523:function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function l(e,t,a,n,l){void 0===a&&(a=!1),void 0===n&&(n=null),void 0===l&&(l=null),null===h.parentNode&&document.body.appendChild(h);var s=r(e,t,a);if(null===s)return null;var o=s.paddingSize,i=s.borderSize,c=s.boxSizing,u=s.sizingStyle;Object.keys(u).forEach(function(e){h.style[e]=u[e]}),b(h),h.value=e.value||e.placeholder||"x";var d=-(1/0),f=1/0,m=h.scrollHeight;"border-box"===c?m+=i:"content-box"===c&&(m-=o),h.value="x";var p=h.scrollHeight-o,E=Math.floor(m/p);null!==n&&(d=p*n,"border-box"===c&&(d=d+o+i),m=Math.max(d,m)),null!==l&&(f=p*l,"border-box"===c&&(f=f+o+i),m=Math.min(f,m));var v=Math.floor(m/p);return{height:m,minHeight:d,maxHeight:f,rowCount:v,valueRowCount:E}}function r(e,t,a){if(void 0===a&&(a=!1),a&&p[t])return p[t];var n=window.getComputedStyle(e);if(null===n)return null;var l=m.reduce(function(e,t){return e[t]=n.getPropertyValue(t),e},{}),r=l["box-sizing"];if(""===r)return null;d&&"border-box"===r&&(l.width=parseFloat(l.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px");var s=parseFloat(l["padding-bottom"])+parseFloat(l["padding-top"]),o=parseFloat(l["border-bottom-width"])+parseFloat(l["border-top-width"]),i={sizingStyle:l,paddingSize:s,borderSize:o,boxSizing:r};return a&&(p[t]=i),i}Object.defineProperty(t,"__esModule",{value:!0});var s=n(a(306)),o=n(a(308)),i=n(a(307)),c=n(a(305)),u=n(a(2)),d=(n(a(15)),!!document.documentElement.currentStyle),f={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],p={},h=document.createElement("textarea"),b=function(e){Object.keys(f).forEach(function(t){e.style.setProperty(t,f[t],"important")})};b(h);var E=function(e){delete p[e]},v=function(){},g=0,y=function(e){function t(t){var a;return a=e.call(this,t)||this,a._onRef=function(e){a._ref=e;var t=a.props.inputRef;return"function"==typeof t?void t(e):void(t.current=e)},a._onChange=function(e){a._controlled||a._resizeComponent(),a.props.onChange(e,c(c(a)))},a._resizeComponent=function(e){void 0===e&&(e=v);var t=l(a._ref,a._uid,a.props.useCacheForDOMMeasurements,a.props.minRows,a.props.maxRows);if(null===t)return void e();var n=t.height,r=t.minHeight,s=t.maxHeight,o=t.rowCount,i=t.valueRowCount;return a.rowCount=o,a.valueRowCount=i,a.state.height!==n||a.state.minHeight!==r||a.state.maxHeight!==s?void a.setState({height:n,minHeight:r,maxHeight:s},e):void e()},a.state={height:t.style&&t.style.height||0,minHeight:-(1/0),maxHeight:1/0},a._uid=g++,a._controlled=void 0!==t.value,a._resizeLock=!1,a}i(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,o(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));t.style=s({},t.style,{height:this.state.height});var a=Math.max(t.style.maxHeight||1/0,this.state.maxHeight);return a<this.state.height&&(t.style.overflow="hidden"),u.createElement("textarea",s({},t,{onChange:this._onChange,ref:this._onRef}))},a.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},a.componentDidUpdate=function(e,t){e!==this.props&&this._resizeComponent(),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},a.componentWillUnmount=function(){window.removeEventListener("resize",this._resizeListener),E(this._uid)},t}(u.Component);y.defaultProps={inputRef:v,onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},t.default=y}});